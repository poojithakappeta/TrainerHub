final Copy -


package com.examly.springapp.config;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.web.servlet.config.annotation.CorsRegistry;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;

@Configuration
public class CorsConfig {
    @Bean
    public WebMvcConfigurer corsConfigurer() {
        return new WebMvcConfigurer() {
            @Override
            public void addCorsMappings(CorsRegistry registry) {
                registry.addMapping("/**")
                        .allowedOrigins("*")
                        .allowedMethods("GET", "POST", "PUT", "DELETE", "OPTIONS")
                        .allowedHeaders("*")
                        .allowCredentials(false)
                        .maxAge(3600);
            }
        };
    }
}

---------

package com.examly.springapp.config;

import java.io.IOException;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;
import org.springframework.security.core.context.SecurityContextHolder;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.security.web.authentication.WebAuthenticationDetailsSource;
import org.springframework.stereotype.Component;
import org.springframework.web.filter.OncePerRequestFilter;

import jakarta.servlet.FilterChain;
import jakarta.servlet.ServletException;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;

@Component
public class JwtAuthenticationFilter extends OncePerRequestFilter {

    @Autowired
    private JwtUtils jwtService;

    @Autowired
    MyUserDetailsService userDetailsServiceImpl;

    @Override
    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {

    String authHeader = request.getHeader("Authorization");
        logger.info("Bearer Token : "+authHeader);
        String token = null;
        String username = null;
        if(authHeader != null && authHeader.startsWith("Bearer ")){
            token = authHeader.substring(7);
            logger.info("Token : "+token);
            username = jwtService.extractUsername(token);
            logger.info("Username from token : "+username);
        }

    if(username != null && SecurityContextHolder.getContext().getAuthentication() == null){
            UserDetails userDetails = userDetailsServiceImpl.loadUserByUsername(username);
            if(jwtService.validateToken(token, userDetails)){
               
                UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());
                authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));
                SecurityContextHolder.getContext().setAuthentication(authenticationToken);
                logger.info("Filter validated successfully");
            }else{
                logger.info("Filter validate failed");
            }
        }
        filterChain.doFilter(request, response);
    }
}

---------------

package com.examly.springapp.config;

import java.security.Key;
import java.util.Date;
import java.util.HashMap;
import java.util.Map;
import java.util.function.Function;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.stereotype.Component;

import io.jsonwebtoken.Claims;
import io.jsonwebtoken.Jwts;
import io.jsonwebtoken.SignatureAlgorithm;
import io.jsonwebtoken.io.Decoders;
import io.jsonwebtoken.security.Keys;

@Component
public class JwtUtils {

    // public static final String SECRET = "357638792F423F4428472B4B6250655368566D597133743677397A2443264629";
    @Value("${jwt.secret}")
    private String SECRET;

    public String extractUsername(String token) {
        return extractClaim(token, Claims::getSubject);
    }

    public Date extractExpiration(String token) {
        return extractClaim(token, Claims::getExpiration);
    }

    public<T> T extractClaim(String token, Function<Claims, T> claimsResolver) {
        final Claims claims = extractAllClaims(token);
        return claimsResolver.apply(claims);
    }

    private Claims extractAllClaims(String token) {
        return Jwts
                .parserBuilder()
                .setSigningKey(getSignKey())
                .build()
                .parseClaimsJws(token)
                .getBody();
    }

    private Boolean isTokenExpired(String token) {
        return extractExpiration(token).before(new Date());
    }

    public Boolean validateToken(String token, UserDetails userDetails) {
        final String username = extractUsername(token);
        return (username.equals(userDetails.getUsername()) && !isTokenExpired(token));
    }

    public String generateToken(String email, Map<String, Object> claims){
        return createToken(claims, email);
    }

    private String createToken(Map<String, Object> claims, String email) {

    return Jwts.builder()
                .setClaims(claims)
                .setSubject(email)
                .setIssuedAt(new Date(System.currentTimeMillis()))
                .setExpiration(new Date(System.currentTimeMillis()+1000*60*60))
                .signWith(getSignKey(), SignatureAlgorithm.HS256).compact();
    }

    private Key getSignKey() {
        byte[] keyBytes = Decoders.BASE64.decode(SECRET);
        return Keys.hmacShaKeyFor(keyBytes);
    }

}

-------------------------
package com.examly.springapp.config;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.security.core.userdetails.UserDetailsService;
import org.springframework.security.core.userdetails.UsernameNotFoundException;
import org.springframework.stereotype.Service;

import com.examly.springapp.model.User;
import com.examly.springapp.repository.UserRepo;

@Service
public class MyUserDetailsService implements UserDetailsService {

    UserRepo userRepo;

    @Autowired
    public MyUserDetailsService(UserRepo userRepo) {
        this.userRepo = userRepo;
    }

    @Override
    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {
        User user = userRepo.findByEmail(email);
        if (user == null) {
            System.out.println("user not found from sysout");
            throw new UsernameNotFoundException("User not found from exception");
        }
        return new UserPrinciple(user);
    }

}

--------------------------------------
package com.examly.springapp.config;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.http.HttpMethod;
import org.springframework.security.authentication.AuthenticationManager;
import org.springframework.security.authentication.AuthenticationProvider;
import org.springframework.security.authentication.dao.DaoAuthenticationProvider;
import org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;
import org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.http.SessionCreationPolicy;
import org.springframework.security.core.userdetails.UserDetailsService;
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
import org.springframework.security.crypto.password.PasswordEncoder;
import org.springframework.security.web.SecurityFilterChain;
import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;

@Configuration
@EnableWebSecurity
@EnableMethodSecurity
public class SecurityConfig {

    @Autowired
    UserDetailsService userDetailsService;

    @Autowired
    JwtAuthenticationFilter jwtAuthenticationFilter;

    @Bean
    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {
        return http.csrf().disable()
                .authorizeHttpRequests() 
                 .requestMatchers("/api/register","/api/login","/api/trainer/**", "/api/feedback/**","/api/requirement/**", "/images/**","/api/**","/api/otp/**").permitAll()
                // .requestMatchers("/**").permitAll()
                .requestMatchers(HttpMethod.OPTIONS, "/**").permitAll()
                .and()
                .authorizeHttpRequests()
                .anyRequest()
                .authenticated()
                .and()
                .sessionManagement()
                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)
                .and()
                .authenticationProvider(authenticationProvider())
                .addFilterBefore(jwtAuthenticationFilter,
                        UsernamePasswordAuthenticationFilter.class)
                .build();
    }

    @Bean
    public PasswordEncoder passwordEncoder() {
        return new BCryptPasswordEncoder();
    }

    @Bean
    public AuthenticationProvider authenticationProvider() {
        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();
        authenticationProvider.setUserDetailsService(userDetailsService);
        authenticationProvider.setPasswordEncoder(passwordEncoder());
        return authenticationProvider;

    }

    @Bean
    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {
        return config.getAuthenticationManager();
    }

}

-----------------------------
package com.examly.springapp.config;

import java.util.ArrayList;

import java.util.Collection;

import java.util.List;

import org.springframework.security.core.GrantedAuthority;

import org.springframework.security.core.authority.SimpleGrantedAuthority;

import org.springframework.security.core.userdetails.UserDetails;

import com.examly.springapp.model.User;

public class UserPrinciple implements UserDetails {

    private String username;

    private String password;

    private Collection<? extends GrantedAuthority> authorities;

    public UserPrinciple(User user) {

        this.username = user.getEmail();

        this.password = user.getPassword();

        List<GrantedAuthority> auths = new ArrayList<>();

        auths.add(new SimpleGrantedAuthority("ROLE_" + user.getUserRole()));

        this.authorities = auths;

    }

    @Override

    public Collection<? extends GrantedAuthority> getAuthorities() {

        return authorities;

    }

    @Override

    public String getPassword() {

        return password;

    }

    @Override

    public String getUsername() {

        return username;

    }

    @Override

    public boolean isAccountNonExpired() {

        return true;

    }

    @Override

    public boolean isAccountNonLocked() {

        return true;

    }

    @Override

    public boolean isCredentialsNonExpired() {

        return true;

    }

    @Override

    public boolean isEnabled() {

        return true;

    }
}

-----------------------------------------

package com.examly.springapp.controller;

import org.apache.commons.logging.LogFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.examly.springapp.model.LoginDTO;
import com.examly.springapp.model.LoginResponse;
import com.examly.springapp.model.User;
import com.examly.springapp.repository.UserRepo;
import com.examly.springapp.service.UserService;

import jakarta.validation.Valid;

@RestController
@RequestMapping("/api")
public class AuthController {
    UserService userService;
    UserRepo userRepo;

    @Autowired
    public AuthController(UserService userService, UserRepo userRepo) {
        this.userService = userService;
        this.userRepo = userRepo;
    }

    @PostMapping("/login")
    public ResponseEntity<LoginResponse> getLogin(@Valid @RequestBody LoginDTO loginDTO) {
        String token = userService.login(loginDTO.getEmail(),loginDTO.getPassword());
        System.out.println(token);
        
        LoginResponse loginResponse = new LoginResponse();
        loginResponse.setToken(token);

        return ResponseEntity.status(200).body(loginResponse);
    }

    @PostMapping("/register")
    public ResponseEntity<?> register(@Valid @RequestBody User user) {
       if( !user.getUserRole().toLowerCase().contains("manager") || user.getUserRole().toLowerCase().contains("coordinator")){
        return ResponseEntity.status(500).body("Role can be of only two types - Manager or Coordinator");
       }
        User u = userService.register(user);
        if (u == null) {
            System.out.println("Reached Here" +u);
            return ResponseEntity.status(201).build();
        }
        System.out.println("Success" + u);
        return ResponseEntity.status(201).body(u);

    }
    @GetMapping("/{id}")
    public ResponseEntity<User> getUser(@PathVariable Long id) {
        User u = userService.getUserById(id);
        if (u == null) {
            System.out.println("Reached Here" +u);
            return ResponseEntity.status(201).build();
        }
        System.out.println("Success" + u);
        return ResponseEntity.status(201).body(u);

    }


}

------------------------------
package com.examly.springapp.controller;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.ResponseEntity;
import org.springframework.security.access.prepost.PreAuthorize;
import org.springframework.web.bind.annotation.DeleteMapping;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.examly.springapp.model.Feedback;
import com.examly.springapp.service.FeedbackService;

@RestController
@RequestMapping("/api/feedback")
public class FeedbackController {
    FeedbackService feedbackService;
    @Autowired  
    public FeedbackController(FeedbackService feedbackService) {
        this.feedbackService = feedbackService;
    }
    @PostMapping("/{userId}/{trainerId}")
    @PreAuthorize("hasRole('Manager')")
    ResponseEntity<Feedback> createFeedback(@PathVariable Long userId,@PathVariable Long trainerId,@RequestBody Feedback feedback){
        Feedback fb=feedbackService.createFeedback(userId,trainerId,feedback);
        if(fb!=null){
            return ResponseEntity.status(201).body(fb);
        }
        return ResponseEntity.status(404).build();
    }
    @GetMapping("/{feedbackId}")
    ResponseEntity<Feedback> getFeedbackById(@PathVariable Long feedbackId){
        Feedback fb=feedbackService.getFeedbackById(feedbackId);
        if(fb!=null){
            return ResponseEntity.status(200).body(fb);
        }
        return ResponseEntity.status(404).build();
    }
    @GetMapping
    ResponseEntity<List<Feedback>> getAllFeedbacks(){
        List<Feedback> fbs=feedbackService.getAllFeedbacks();
        if(!fbs.isEmpty()){
            return ResponseEntity.status(200).body(fbs);
        }
        return ResponseEntity.status(404).build();
    }
    @GetMapping("/user/{userId}")
    @PreAuthorize("hasRole('Manager')")
    ResponseEntity<List<Feedback>> getFeedbacksByUserId(@PathVariable Long userId){
        List<Feedback> fbs=feedbackService.getFeedbacksByUserId(userId);
        if(!fbs.isEmpty()){
            System.out.println("Reached cause not empty");
            return ResponseEntity.status(200).body(fbs);
        }
        System.out.println("Reached here");
        return ResponseEntity.status(200).build();
    }
    @DeleteMapping("/{feedbackId}")
    ResponseEntity<Feedback> deleteFeedback(@PathVariable Long feedbackId){
        Feedback fb=feedbackService.deleteFeedback(feedbackId);
        if(fb!=null){
            return ResponseEntity.status(200).body(fb);
        }
        return ResponseEntity.status(404).build();
    }
}

--------------------------------------------
package com.examly.springapp.controller;

import java.util.HashMap;
import java.util.Map;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.examly.springapp.service.OtpService;

@RestController
@RequestMapping("/api/otp")
public class OtpController {
   
    private OtpService otpService;
 
    @Autowired
    public OtpController(OtpService otpService) {
        this.otpService = otpService;
    }
 
 
    @PostMapping("/send")
    public ResponseEntity<Map<String, String>> sendOtp(@RequestBody String email) {
        Map<String, String> response = new HashMap<>();
        response=otpService.sendOtp(email);
        response.put("message", "OTP sent successfully");
        return ResponseEntity.ok(response);
    }
 
 
    @PostMapping("/verify")
    public ResponseEntity<?> verifyOtp(@RequestBody Map<String, String> request) {
        boolean isValid = otpService.verifyOtp(request.get("email"), request.get("otp"));
        return isValid ? ResponseEntity.ok("Verified") : ResponseEntity.status(400).body("Invalid OTP");
    }
}

-------------------------------
package com.examly.springapp.controller;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.security.access.prepost.PreAuthorize;
import org.springframework.web.bind.annotation.DeleteMapping;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.PutMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

import com.examly.springapp.model.Requirement;
import com.examly.springapp.repository.RequirementRepo;
import com.examly.springapp.service.RequirementService;

import jakarta.validation.Valid;

@RestController
@RequestMapping("/api/requirement")
public class RequirementController {
    RequirementService requirementService;
    RequirementRepo requirementRepo;
    

    @Autowired
    public RequirementController(RequirementService requirementService, RequirementRepo requirementRepo) {
        this.requirementService = requirementService;
        this.requirementRepo = requirementRepo;
    }

    
    @GetMapping
    public ResponseEntity<List<Requirement>> getAllRequiremnt() {
        List<Requirement> r = requirementService.getAllRequirements();
        if (r.isEmpty()) {
            return ResponseEntity.status(404).build();

        }
        return ResponseEntity.status(200).body(r);
    }

    @PostMapping
    @PreAuthorize("hasRole('Manager')")
    public ResponseEntity<Requirement> addRequiremnt( @Valid @RequestBody Requirement requirement) {
        Requirement r = requirementService.addRequirement(requirement);
        if (r == null) {
            return ResponseEntity.status(404).build();
        }
        return ResponseEntity.status(201).body(r);
    }

    @GetMapping("/{requirementId}")
    @PreAuthorize("hasRole('Manager')")
    public ResponseEntity<Requirement> getRequirementById(@PathVariable Long requirementId) {
        Requirement requirement = requirementService.getRequirementById(requirementId);
        if (requirement == null) {
            return ResponseEntity.status(404).build();
        }
        return ResponseEntity.status(200).body(requirement);
    }

    @PutMapping("/{requirementId}")
    public ResponseEntity<Requirement> updateRequirement(@PathVariable Long requirementId,
            @RequestBody Requirement requirement) {
        Requirement req = requirementService.updateRequirement(requirementId, requirement);
        if (req == null) {
            return ResponseEntity.status(404).build();
        }
        return ResponseEntity.status(201).body(req);
    }

    @PutMapping("/{requirementId}/trainer/{trainerId}")
    public ResponseEntity<Requirement> assignTrainerToRequirement(
            @PathVariable Long requirementId,
            @PathVariable Long trainerId) {
        Requirement updatedRequirement = requirementService.assignRequiremtToTrainer(requirementId, trainerId);
        if (updatedRequirement != null) {
            return ResponseEntity.ok(updatedRequirement);
        } else {
            return ResponseEntity.status(HttpStatus.NOT_FOUND).build();
        }
    }
    @DeleteMapping("/{requirementId}")
    public ResponseEntity<?> deleterequirement(@PathVariable Long requirementId){
        boolean b = requirementService.deleteRequirement(requirementId);
        if(!b){
            return ResponseEntity.status(404).build();
        }
        return ResponseEntity.status(200).body(b);

    }
    @PutMapping("/{id}/status")
    public ResponseEntity<Requirement> updateStatus(@PathVariable Long id,@RequestParam String status){
        Requirement req = requirementService.getRequirementById(id);
        req.setStatus(status);
        Requirement updated  = requirementRepo.save(req);
        return ResponseEntity.status(200).body(updated);


    }
    @PutMapping("/{id}/reject-trainer")
    public ResponseEntity<Requirement> rejectTrainer(@PathVariable Long id){
        Requirement req = requirementService.getRequirementById(id);
        req.setTrainer(null);
        Requirement updated = requirementRepo.save(req);
        return ResponseEntity.status(200).body(updated);

    }

}
----------------------------------------
package com.examly.springapp.controller;
 
import java.util.List;
import java.util.Optional;
 
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.ResponseEntity;
import org.springframework.security.access.prepost.PreAuthorize;
import org.springframework.web.bind.annotation.DeleteMapping;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.PutMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RequestPart;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.multipart.MultipartFile;
 
import com.examly.springapp.model.Trainer;
import com.examly.springapp.service.TrainerService;
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.ObjectMapper;

import jakarta.validation.Valid;
 
@RestController
@RequestMapping("api/trainer")
public class TrainerController {
    TrainerService trainerService;
 
    @Autowired
    public TrainerController(TrainerService trainerService) {
        this.trainerService = trainerService;
    }
 
    @GetMapping
    public ResponseEntity<List<Trainer>> getAllTrainer() {
        List<Trainer> trainers = trainerService.getAllTrainers();
        if (trainers == null) {
            return ResponseEntity.status(400).build();
        }
        return ResponseEntity.status(200).body(trainers);
    }
 
    @PostMapping("/fileUpload")
    @PreAuthorize("hasRole('Coordinator')")
    public ResponseEntity<?> addTrainer(@Valid @RequestParam("file") MultipartFile uploadFile,
            @RequestParam("data") String strTrainer) {
        try {
            ObjectMapper objectMapper = new ObjectMapper();
            Trainer trainer = objectMapper.readValue(strTrainer, Trainer.class);
            Trainer t = trainerService.addTrainerUF(uploadFile, trainer);
            return ResponseEntity.status(201).body(t);
        } catch (Exception e) {
            return ResponseEntity.status(409).body(e.getMessage());
        }
 
    }
     @PutMapping("/fileUpload/{trainerId}")
    public ResponseEntity<Trainer> updateTrainer(
            @PathVariable Long trainerId,
            @RequestPart("file") MultipartFile uploadFile,
            @RequestPart("data") String trainerJson) throws JsonProcessingException {
        Trainer trainer = new ObjectMapper().readValue(trainerJson, Trainer.class);
        Trainer updatedTrainer = trainerService.updateTrainerUF(trainerId, uploadFile, trainer);
        return ResponseEntity.ok(updatedTrainer);
    }

    // dummy FOR TESTCASE
    @PostMapping
    @PreAuthorize("hasRole('Coordinator')")
    public ResponseEntity<Trainer> addTrainer(@RequestBody Trainer trainer) {
        Trainer t = trainerService.addTrainer(trainer);
        if (t == null) {
            return ResponseEntity.status(409).build();
        }
        return ResponseEntity.status(201).body(t);
    }
 
    @GetMapping("{trainerId}")
    public ResponseEntity<Trainer> getTrainerById(@PathVariable Long trainerId) {
        Optional<Trainer> trainer = trainerService.getTrainerById(trainerId);
        if (trainer.isPresent()) {
            return ResponseEntity.status(200).body(trainer.get());
        }
        return ResponseEntity.status(400).build();
 
    }
 
    @PutMapping("{trainerId}")
    @PreAuthorize("hasRole('Coordinator')")
    public ResponseEntity<Trainer> updateTrainer(@PathVariable Long trainerId, @RequestBody Trainer trainer) {
        Trainer t = trainerService.updateTrainer(trainerId, trainer);
        if (t != null) {
            return ResponseEntity.ok(t);
        }
        return ResponseEntity.notFound().build();
    }
    @DeleteMapping("{trainerId}")
    public ResponseEntity<?> deleteTrainer(@PathVariable Long trainerId) {
        boolean b = trainerService.deleteTrainer(trainerId);
        if (b) {
            return ResponseEntity.status(200).build();
        }
        return ResponseEntity.status(404).build();
 
    }
    @PutMapping("/edit/{trainerId}")
    @PreAuthorize("hasRole('Coordinator')")
    public ResponseEntity<Trainer> activeTrainer(@PathVariable Long trainerId,@RequestBody Trainer t1) {
        Trainer t = trainerService.active(trainerId,t1);
        if (t != null) {
            return ResponseEntity.status(200).body(t);
        }
        return ResponseEntity.status(404).build();
    }
 
}
---------------------------------------------
package com.examly.springapp.exceptions;

public class DuplicateEmailException extends RuntimeException {
    public DuplicateEmailException(String message){
        super(message);
    }

}


package com.examly.springapp.exceptions;
 
public class DuplicateRequirementException extends RuntimeException {
 
    public DuplicateRequirementException(String message)
    {
        super(message);
    }
}



package com.examly.springapp.exceptions;
 
public class DuplicateTrainerException extends RuntimeException{
    public  DuplicateTrainerException(String message){
        super(message);
      }
}
 
 

package com.examly.springapp.exceptions;

public class DuplicateUserException extends RuntimeException{
    public DuplicateUserException(String message){
        super(message);
    }

}



package com.examly.springapp.exceptions;

import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.ControllerAdvice;
import org.springframework.web.bind.annotation.ExceptionHandler;
@ControllerAdvice
public class GlobalExceptionHandler extends RuntimeException {
    @ExceptionHandler(DuplicateRequirementException.class)
    public ResponseEntity<String> handleDuplicateRequirementException(DuplicateRequirementException e) {
        return ResponseEntity.status(500).body(e.getMessage());
    }

    @ExceptionHandler(DuplicateTrainerException.class)
    public ResponseEntity<String> handleDuplicateTrainerException(DuplicateTrainerException e) {
        return ResponseEntity.status(500).body(e.getMessage());
    }

    @ExceptionHandler(RequirementDeletionException.class)
    public ResponseEntity<String> handleRequirementDeletionException(RequirementDeletionException e) {
        return ResponseEntity.status(500).body(e.getMessage());
    }

    @ExceptionHandler(TrainerDeletionException.class)
    public ResponseEntity<String> handleTrainerDeletionException(TrainerDeletionException e) {
        return ResponseEntity.status(500).body(e.getMessage());
    }
    @ExceptionHandler(DuplicateEmailException.class)
    public ResponseEntity<String> duplictaeEmailHandler(DuplicateEmailException e) {
        return ResponseEntity.status(500).body(e.getMessage());
    }
    @ExceptionHandler(DuplicateUserException.class)
    public ResponseEntity<String> duplictaeUserHandler(DuplicateUserException e) {
        return ResponseEntity.status(500).body(e.getMessage());
    }
}


package com.examly.springapp.exceptions;
 
public class RequirementDeletionException  extends RuntimeException{
    public RequirementDeletionException(String message){
        super(message);
       }
}



package com.examly.springapp.exceptions;
 
public class TrainerDeletionException extends RuntimeException {
    public TrainerDeletionException(String message){
        super(message);  
      }
}

-------------------------------------------------
package com.examly.springapp.model;

import java.time.LocalDate;

import jakarta.persistence.Entity;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.Id;
import jakarta.persistence.JoinColumn;
import jakarta.persistence.ManyToOne;

@Entity
public class Feedback {
    @Id
    @GeneratedValue
    private Long feedbackId;
    private String feedbackText;
    private LocalDate date;
    @ManyToOne
    @JoinColumn(name="userId",nullable=false)
    private User user; 
    @ManyToOne
    @JoinColumn(name="trainerId",nullable=true)
    private Trainer trainer;
    String category;
    public Feedback(){}
    public Feedback(Long feedbackId, String feedbackText, LocalDate date, User user, Trainer trainer, String category) {
        this.feedbackId = feedbackId;
        this.feedbackText = feedbackText;
        this.date = date;
        this.user = user;
        this.trainer = trainer;
        this.category = category;
    }
    public long getFeedbackId() {
        return feedbackId;
    }
    public void setFeedbackId(Long feedbackId) {
        this.feedbackId = feedbackId;
    }
    public String getFeedbackText() {
        return feedbackText;
    }
    public void setFeedbackText(String feedbackText) {
        this.feedbackText = feedbackText;
    }
    public LocalDate getDate() {
        return date;
    }
    public void setDate(LocalDate date) {
        this.date = date;
    }
    public User getUser() {
        return user;
    }
    public void setUser(User user) {
        this.user = user;
    }
    public Trainer getTrainer() {
        return trainer;
    }
    public void setTrainer(Trainer trainer) {
        this.trainer = trainer;
    }
    public String getCategory() {
        return category;
    }
    public void setCategory(String category) {
        this.category = category;
    }
    
    
}


-----------------------------------

package com.examly.springapp.model;

public class LoginDTO {
    String email;
    String password;

    public LoginDTO() {
    }

    public LoginDTO(String email, String password) {
        this.email = email;
        this.password = password;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    public String getPassword() {
        return password;
    }

    public void setPassword(String password) {
        this.password = password;
    }

}


-------------------------------------------------

package com.examly.springapp.model;

public class LoginResponse {
    String token;

    public LoginResponse() {
    }

    public LoginResponse(String token) {
        this.token = token;
    }

    public String getToken() {
        return token;
    }

    public void setToken(String token) {
        this.token = token;
    }
    

} 

-----------------------------

package com.examly.springapp.model;

import java.time.LocalDate;
import jakarta.persistence.Entity;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.Id;
import jakarta.persistence.JoinColumn;
import jakarta.persistence.ManyToOne;
import jakarta.validation.constraints.NotBlank;
import jakarta.validation.constraints.NotNull;
import jakarta.validation.constraints.Positive;

@Entity
public class Requirement {
    @Id
    @GeneratedValue
    Long requirementId;

    @NotBlank(message = "Title is required")
    private String title;

    @NotBlank(message = "Description is required")
    private String description;

    @NotBlank(message = "Department is required")
    private String department;


    @NotNull(message = "Posted date is required")
    private LocalDate postedDate;

    @NotBlank(message = "Status is required")
    private String status;

    @NotBlank(message = "Duration is required")
    private String duration;

 
    @NotBlank(message = "Mode is required")
    private String mode;

    @NotBlank(message = "Location is required")
    private String location;

    @NotBlank(message = "Skill level is required")
    private String skillLevel;

  
    @NotNull(message = "Budget is required")
    @Positive(message = "Budget must be a positive number")
    private Double budget;

    @NotBlank(message = "Priority is required")
    private String priority;

    @ManyToOne
    @JoinColumn(name = "trainer_id", nullable = true)
    Trainer trainer;

    public Requirement() {
    }

    public Requirement(Long requirementId, String title, String description, String department, LocalDate postedDate,
            String status, String duration, String mode, String location, String skillLevel, Double budget,
            String priority, Trainer trainer) {
        this.requirementId = requirementId;
        this.title = title;
        this.description = description;
        this.department = department;
        this.postedDate = postedDate;
        this.status = status;
        this.duration = duration;
        this.mode = mode;
        this.location = location;
        this.skillLevel = skillLevel;
        this.budget = budget;
        this.priority = priority;
        this.trainer = trainer;
    }

    public Long getRequirementId() {
        return requirementId;
    }

    public void setRequirementId(Long requirementId) {
        this.requirementId = requirementId;
    }

    public String getTitle() {
        return title;
    }

    public void setTitle(String title) {
        this.title = title;
    }

    public String getDescription() {
        return description;
    }

    public void setDescription(String description) {
        this.description = description;
    }

    public String getDepartment() {
        return department;
    }

    public void setDepartment(String department) {
        this.department = department;
    }

    public LocalDate getPostedDate() {
        return postedDate;
    }

    public void setPostedDate(LocalDate postedDate) {
        this.postedDate = postedDate;
    }

    public String getStatus() {
        return status;
    }

    public void setStatus(String status) {
        this.status = status;
    }

    public String getDuration() {
        return duration;
    }

    public void setDuration(String duration) {
        this.duration = duration;
    }

    public String getMode() {
        return mode;
    }

    public void setMode(String mode) {
        this.mode = mode;
    }

    public String getLocation() {
        return location;
    }

    public void setLocation(String location) {
        this.location = location;
    }

    public String getSkillLevel() {
        return skillLevel;
    }

    public void setSkillLevel(String skillLevel) {
        this.skillLevel = skillLevel;
    }

    public Double getBudget() {
        return budget;
    }

    public void setBudget(Double budget) {
        this.budget = budget;
    }

    public String getPriority() {
        return priority;
    }

    public void setPriority(String priority) {
        this.priority = priority;
    }

    public Trainer getTrainer() {
        return trainer;
    }

    public void setTrainer(Trainer trainer) {
        this.trainer = trainer;
    }

}


----------------------------------------------
package com.examly.springapp.model;

import jakarta.persistence.Entity;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.Id;
import jakarta.validation.constraints.Email;
import jakarta.validation.constraints.NotBlank;
import jakarta.validation.constraints.Pattern;

@Entity
public class Trainer {
    @Id
    @GeneratedValue
    Long trainerId;

    @NotBlank(message = "Name is required")
    String name;

    @Email(message = "Invalid email format")
    @NotBlank(message = "Email is required")
    private String email;

    @NotBlank(message = "Phone number is required")
    @Pattern(regexp = "^[0-9]{10}$", message = "Phone number must be 10 digits")
    private String phone;

 
    @NotBlank(message = "Expertise is required")
    private String expertise;

    @NotBlank(message = "Experience is required")
    private String experience;

    @NotBlank(message = "Certification is required")
    private String certification;


    @NotBlank(message = "Resume link is required")
    private String resume;

    @NotBlank(message = "Joining date is required")
    private String joiningDate;

    @NotBlank(message = "Status is required")
    private String status;


    public Trainer() {
    }

    public Trainer(Long trainerId, String name, String email, String phone, String expertise, String experience,
            String certification, String resume, String joiningDate, String status) {
        this.trainerId = trainerId;
        this.name = name;
        this.email = email;
        this.phone = phone;
        this.expertise = expertise;
        this.experience = experience;
        this.certification = certification;
        this.resume = resume;
        this.joiningDate = joiningDate;
        this.status = status;
    }

    public void setTrainerId(Long trainerId) {
        this.trainerId = trainerId;
    }

    public void setName(String name) {
        this.name = name;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    public void setPhone(String phone) {
        this.phone = phone;
    }

    public void setExpertise(String expertise) {
        this.expertise = expertise;
    }

    public void setExperience(String experience) {
        this.experience = experience;
    }

    public void setCertification(String certification) {
        this.certification = certification;
    }

    public void setResume(String resume) {
        this.resume = resume;
    }

    public void setJoiningDate(String joiningDate) {
        this.joiningDate = joiningDate;
    }

    public void setStatus(String status) {
        this.status = status;
    }

    public String getStatus() {
        return status;
    }

    public Long getTrainerId() {
        return trainerId;
    }

    public String getName() {
        return name;
    }

    public String getEmail() {
        return email;
    }

    public String getPhone() {
        return phone;
    }

    public String getExpertise() {
        return expertise;
    }

    public String getExperience() {
        return experience;
    }

    public String getCertification() {
        return certification;
    }

    public String getResume() {
        return resume;
    }

    public String getJoiningDate() {
        return joiningDate;
    }

}
--------------------------------

package com.examly.springapp.model;

import jakarta.persistence.Entity;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.Id;
import jakarta.validation.constraints.Email;
import jakarta.validation.constraints.NotBlank;
import jakarta.validation.constraints.Pattern;

@Entity
public class User {
    @Id
    @GeneratedValue
    Long userId;
    
    @Email(message = "Invalid Email Format")
    @NotBlank(message = "Email is required")
    String email;

    @NotBlank(message = "Password in required")
    String password;

    @NotBlank(message = "Username is required")
    String username;

    @NotBlank(message = "User role is required")
    private String userRole;

    @NotBlank(message = "Mobile number is required")
    @Pattern(regexp = "^[0-9]{10}$", message = "Mobile number must be 10 digits")
    private String mobileNumber;

    public User() {
    }

    public User(Long userId, String email, String password, String username, String mobileNumber, String userRole) {
        this.userId = userId;
        this.email = email;
        this.password = password;
        this.username = username;
        this.userRole = userRole;
        this.mobileNumber = mobileNumber;

    }

    public Long getUserId() {
        return userId;
    }

    public void setUserId(Long userId) {
        this.userId = userId;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    public String getPassword() {
        return password;
    }

    public void setPassword(String password) {
        this.password = password;
    }

    public String getUsername() {
        return username;
    }

    public void setUsername(String username) {
        this.username = username;
    }

    public String getMobileNumber() {
        return mobileNumber;
    }

    public void setMobileNumber(String mobileNumber) {
        this.mobileNumber = mobileNumber;
    }

    public String getUserRole() {
        return userRole;
    }

    public void setUserRole(String userRole) {
        this.userRole = userRole;
    }

    @Override
    public String toString() {
        return "User [userId : " + userId + ", email=" + email + ", password=" + password + ", username=" + username
                + ", userRole=" + userRole + ", mobileNumber=" + mobileNumber + "]";
    }

}
---------------------------------------------
package com.examly.springapp.repository;

import java.util.List;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Modifying;
import org.springframework.stereotype.Repository;

import com.examly.springapp.model.Feedback;

import jakarta.transaction.Transactional;

@Repository
public interface FeedbackRepo extends JpaRepository<Feedback,Long> {
   List<Feedback> findByUser_UserId(Long userId);
   @Modifying
   @Transactional
   void deleteByTrainer_TrainerId(Long trainerId);
}




package com.examly.springapp.repository;

import java.util.List;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;

import com.examly.springapp.model.Requirement;
@Repository
public interface RequirementRepo extends JpaRepository<Requirement,Long> {
List<Requirement> findByTrainer_TrainerId(Long trainerId);
}



package com.examly.springapp.repository;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;

import com.examly.springapp.model.Trainer;

@Repository
public interface TrainerRepo  extends JpaRepository<Trainer ,Long> {
  boolean existsByEmail(String email);

}



package com.examly.springapp.repository;

import org.springframework.stereotype.Repository;
import com.examly.springapp.model.User;
import org.springframework.data.jpa.repository.JpaRepository;
@Repository
public interface UserRepo  extends  JpaRepository<User,Long>{
    boolean existsByEmail(String email);
 
    User findByEmail(String email);
 
    User findByUsername(String username);
}



-------------------------------------------------


package com.examly.springapp.service;

import java.util.List;

import com.examly.springapp.model.Feedback;

public interface FeedbackService {
    Feedback createFeedback(Long userId,Long trainerId,Feedback feedback);

    Feedback getFeedbackById(Long feedbackId);

    List<Feedback> getAllFeedbacks();

    Feedback deleteFeedback(Long feedbackId);

    List<Feedback> getFeedbacksByUserId(Long userId);
}



package com.examly.springapp.service;

import java.util.ArrayList;
import java.util.List;
import java.util.Optional;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.examly.springapp.model.Feedback;
import com.examly.springapp.model.Trainer;
import com.examly.springapp.model.User;
import com.examly.springapp.repository.FeedbackRepo;
import com.examly.springapp.repository.TrainerRepo;
import com.examly.springapp.repository.UserRepo;

@Service
public class FeedbackServiceImpl implements FeedbackService {
    FeedbackRepo feedbackRepo;
    UserRepo userRepo;
    TrainerRepo trainerRepo;

    @Autowired
    public FeedbackServiceImpl(FeedbackRepo feedbackRepo, UserRepo userRepo, TrainerRepo trainerRepo) {
        this.feedbackRepo = feedbackRepo;
        this.userRepo = userRepo;
        this.trainerRepo = trainerRepo;
    }

    @Override
    public Feedback createFeedback(Long userID,Long trainerId,Feedback feedback) {
        Optional<Trainer> t = trainerRepo.findById(trainerId);
        Optional<User> u = userRepo.findById(userID);
        if (t.isEmpty() || u.isEmpty()) {
            return null;
        }
        User user = u.get();
        Trainer trainer = t.get();
        feedback.setTrainer(trainer);
        feedback.setUser(user);

        return feedbackRepo.save(feedback);

    }

    @Override
    public Feedback deleteFeedback(Long feedbackId) {
        Optional<Feedback> optfeedback = feedbackRepo.findById(feedbackId);
        if (optfeedback.isPresent()) {
            Feedback fb = optfeedback.get();
            feedbackRepo.deleteById(feedbackId);
            return fb;
        }
        return null;

    }

    @Override
    public List<Feedback> getAllFeedbacks() {
        return feedbackRepo.findAll();
    }

    @Override
    public Feedback getFeedbackById(Long feedbackId) {
        Optional<Feedback> optfeedback = feedbackRepo.findById(feedbackId);
        if (optfeedback.isPresent()) {
            return optfeedback.get();
        }
        return null;
    }

    @Override
    public List<Feedback> getFeedbacksByUserId(Long userId) {
        List<Feedback> feedbacks = feedbackRepo.findByUser_UserId(userId);
         return feedbacks;
    }

}



------------------------------------------------------------------
package com.examly.springapp.service;

import java.util.HashMap;
import java.util.Map;
import java.util.Random;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.mail.SimpleMailMessage;
import org.springframework.mail.javamail.JavaMailSender;
import org.springframework.stereotype.Service;

@Service
public class OtpService {
    Map<String, String> otpStorage=new HashMap<>();
    private final JavaMailSender mailSender;
 
    @Autowired
    public OtpService(JavaMailSender mailSender) {
        this.mailSender = mailSender;
    }
 
    public Map<String, String> sendOtp(String email) {
        Map<String, String> otpStorag = new HashMap<>();
        String otp = String.valueOf(new Random().nextInt(999999));
        otpStorag.put("email", email);
        otpStorag.put("otp", otp);
 
        SimpleMailMessage message = new SimpleMailMessage();
        message.setTo(email);
        message.setSubject("Your OTP Code");
        message.setText("Your OTP is: " + otp);
        mailSender.send(message);
        return otpStorag;
    }
 
    public boolean verifyOtp(String email, String otp) {
        System.out.println(otpStorage);
        return otp.equals(otpStorage.get(email));
    }
}


----------------------------------------


package com.examly.springapp.service;

import java.util.List;

import com.examly.springapp.model.Requirement;

public interface RequirementService {
  Requirement addRequirement(Requirement requirement);
  Requirement getRequirementById(Long requirementId);
  List<Requirement> getAllRequirements();
  Requirement updateRequirement(Long requirementId,Requirement requirement);
  boolean deleteRequirement(Long requirementId);
  List<Requirement> getRequirementByTrainerId(Long trainerId);
  Requirement assignRequiremtToTrainer(Long requirementId,Long trainerId);

}

package com.examly.springapp.service;

import java.util.List;
import java.util.Optional;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.examly.springapp.model.Requirement;
import com.examly.springapp.model.Trainer;
import com.examly.springapp.repository.RequirementRepo;
import com.examly.springapp.repository.TrainerRepo;
@Service
public class RequirementServiceImpl implements RequirementService {
    RequirementRepo requirementRepo;
    TrainerRepo trainerRepo;

    @Autowired
    public RequirementServiceImpl(RequirementRepo requirementRepo, TrainerRepo trainerRepo) {
        this.requirementRepo = requirementRepo;
        this.trainerRepo = trainerRepo;
    }

    @Override
    public Requirement addRequirement(Requirement requirement) {
        return requirementRepo.save(requirement);
    }

    @Override
    public boolean deleteRequirement(Long requirementId) {
        Optional<Requirement> r = requirementRepo.findById(requirementId);
        if (r.isPresent()) {
            requirementRepo.deleteById(requirementId);
            return true;
        }
        return false;
    }

    @Override
    public List<Requirement> getAllRequirements() {
        return requirementRepo.findAll();
    }

    @Override
    public Requirement getRequirementById(Long requirementId) {
        Optional<Requirement> r = requirementRepo.findById(requirementId);
        if (r.isPresent()) {
            Requirement requirement = r.get();
            return requirement;
        }
        return null;
    }

    @Override
    public List<Requirement> getRequirementByTrainerId(Long trainerId) {
        List<Requirement> requirement = requirementRepo.findByTrainer_TrainerId(trainerId);
        if (!requirement.isEmpty()) {
            return requirement;
        }
        return null;
    }

    @Override
    public Requirement updateRequirement(Long requirementId, Requirement requirement) {
        Optional<Requirement> r = requirementRepo.findById(requirementId);
        if (r.isPresent()) {
            Requirement req = r.get();
            req.setBudget(requirement.getBudget());
            req.setDepartment(requirement.getDepartment());
            req.setDescription(requirement.getDescription());
            req.setDuration(requirement.getDuration());
            req.setLocation(requirement.getDuration());
            req.setMode(requirement.getMode());
            req.setPostedDate(requirement.getPostedDate());
            req.setPriority(requirement.getPriority());
            req.setStatus(requirement.getStatus());
            req.setSkillLevel(requirement.getSkillLevel());
            req.setTitle(requirement.getTitle());
            
            return requirementRepo.save(req);

        }
        return null;
    }

    @Override
    public Requirement assignRequiremtToTrainer(Long requirementId, Long trainerId) {
        Optional<Requirement> r = requirementRepo.findById(requirementId);
        Optional<Trainer> t = trainerRepo.findById(trainerId);
        if (r.isEmpty() || t.isEmpty()) {
            return null;
        }
        Requirement requirement = r.get();
        Trainer trainer = t.get();
        requirement.setTrainer(trainer);
        return requirementRepo.save(requirement);

    }

}

-------------------------------------------------
package com.examly.springapp.service;
 
import java.util.List;
import java.util.Optional;
 
import org.springframework.web.multipart.MultipartFile;
 
import com.examly.springapp.model.Trainer;
 
public interface TrainerService {
   Trainer addTrainerUF(MultipartFile uploadFile, Trainer trainer);
   Trainer addTrainer(Trainer trainer);
 
   Optional<Trainer> getTrainerById(Long trainerId);
 
   List<Trainer> getAllTrainers();
 
   Trainer updateTrainer(Long trainerId, Trainer trainer);
   Trainer active(Long trainerId,Trainer trainer);
   Trainer updateTrainerUF(Long id, MultipartFile uploadFile, Trainer trainer);
 
   boolean deleteTrainer(Long trainerId);
}



package com.examly.springapp.service;
 
import java.io.File;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.List;
import java.util.Optional;
 
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.web.multipart.MultipartFile;
 
import com.examly.springapp.exceptions.DuplicateTrainerException;
import com.examly.springapp.exceptions.TrainerDeletionException;
import com.examly.springapp.model.Trainer;
import com.examly.springapp.repository.FeedbackRepo;
import com.examly.springapp.repository.TrainerRepo;
 
@Service
public class TrainerServiceImpl implements TrainerService {
   private String uploadDir = "src/main/resources/static/images";
   TrainerRepo trainerRepo;
   FeedbackRepo feedbackRepo;
 
   @Autowired
   public TrainerServiceImpl(TrainerRepo trainerRepo, FeedbackRepo feedbackRepo) {
      this.trainerRepo = trainerRepo;
      this.feedbackRepo = feedbackRepo;
   }
   // public TrainerServiceImpl(TrainerRepo trainerRepo) {
   //    this.trainerRepo = trainerRepo;
   // }
   
 
  


   @Override
   public Trainer addTrainerUF(MultipartFile uploadFile, Trainer trainer) {
      if (trainerRepo.existsByEmail(trainer.getEmail())) {
         throw new DuplicateTrainerException("Trainer already exists");
      }
      File directory = new File(uploadDir);
      if (!directory.exists()) {
         directory.mkdir();
      }
      long time = System.currentTimeMillis();
      String fileName = uploadFile.getOriginalFilename();
      String newFileName = fileName.substring(0, fileName.indexOf(".")) + time
            + fileName.substring(fileName.indexOf("."));
      Path filePath = Paths.get(uploadDir, newFileName);
      try {
         Files.write(filePath, uploadFile.getBytes());
 
      } catch (IOException e) {
         throw new RuntimeException("unable to create file");
 
      }
      trainer.setResume(newFileName);
      return trainerRepo.save(trainer);
   }
   @Override
   public Trainer addTrainer(Trainer trainer) {
      return trainerRepo.save(trainer);
   }
 
   @Override
   public boolean deleteTrainer(Long trainerId) {
      Optional<Trainer> t = trainerRepo.findById(trainerId);
      if(t.isEmpty()){
         throw new TrainerDeletionException("trainer cannot be deleted");
      }
      if (t.isPresent()) {
         feedbackRepo.deleteByTrainer_TrainerId(trainerId);
         trainerRepo.deleteById(trainerId);
         return true;
      }
      return false;
   }
 
   @Override
   public List<Trainer> getAllTrainers() {
 
      return trainerRepo.findAll();
   }
 
   @Override
   public Optional<Trainer> getTrainerById(Long trainerId) {
      Optional<Trainer> trainer = trainerRepo.findById(trainerId);
      if (trainer.isPresent()) {
         return trainer;
      }
      return Optional.empty();
   }
 
   @Override
   public Trainer updateTrainer(Long trainerId, Trainer trainer1) {
      Optional<Trainer> optionalTrainer = trainerRepo.findById(trainerId);
   
      if (optionalTrainer.isPresent()) {
          Trainer trainer = optionalTrainer.get();
   
       
          if ("Active".equalsIgnoreCase(trainer.getStatus())) {
              trainer.setStatus("Inactive");
          } else {
              trainer.setStatus("Active");
          }
   
          return trainerRepo.save(trainer);
      }
   
      return null;
  }

   @Override
   public Trainer active(Long trainerId,Trainer t1) {
      Optional<Trainer> t = trainerRepo.findById(trainerId);
      if(t.isPresent()){
         Trainer trainer = t.get();
         if(trainer.getStatus()=="Active"){
         trainer.setStatus("Inactive");
         }
         else{
            trainer.setStatus("Active");
         }
         return trainerRepo.save(trainer);
      }
      return null;
   }
   @Override
   public Trainer updateTrainerUF(Long id, MultipartFile uploadFile, Trainer trainer) {
      Trainer existingTrainer = trainerRepo.findById(id)
            .orElseThrow(() -> new RuntimeException("Trainer not found"));

      // Optional: Check for email conflict if email is being updated
      if (!existingTrainer.getEmail().equals(trainer.getEmail()) &&
            trainerRepo.existsByEmail(trainer.getEmail())) {
         throw new DuplicateTrainerException("Trainer with this email already exists");
      }

      // Handle file upload if a new file is provided
      if (uploadFile != null && !uploadFile.isEmpty()) {
         File directory = new File(uploadDir);
         if (!directory.exists()) {
            directory.mkdir();
         }

         long time = System.currentTimeMillis();
         String fileName = uploadFile.getOriginalFilename();
         String newFileName = fileName.substring(0, fileName.indexOf(".")) + time
               + fileName.substring(fileName.indexOf("."));
         Path filePath = Paths.get(uploadDir, newFileName);

         try {
            Files.write(filePath, uploadFile.getBytes());
         } catch (IOException e) {
            throw new RuntimeException("Unable to create file");
         }

         trainer.setResume(newFileName);
      } else {
         trainer.setResume(existingTrainer.getResume()); // retain old resume
      }

      trainer.setTrainerId(id); // ensure ID is preserved
      return trainerRepo.save(trainer);
   }

   
}


----------------------------------------------
package com.examly.springapp.service;

import java.util.List;

import com.examly.springapp.model.User;

public interface UserService {
    User register(User user);

    String login(String email, String password);

    List<User> getAllUser();
    User getUserById(Long userId);
} 



package com.examly.springapp.service;

import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.Optional;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.security.core.*;
import org.springframework.security.authentication.AuthenticationManager;
import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;
import org.springframework.security.crypto.password.PasswordEncoder;
import org.springframework.stereotype.Service;

import com.examly.springapp.config.JwtUtils;
import com.examly.springapp.exceptions.DuplicateEmailException;
import com.examly.springapp.exceptions.DuplicateUserException;
import com.examly.springapp.model.User;
import com.examly.springapp.repository.UserRepo;
import com.examly.springapp.service.UserService;

@Service
public class UserServiceImpl implements UserService {

  UserRepo userRepo;
  PasswordEncoder passwordEncoder;
  AuthenticationManager authenticationManager;
  JwtUtils jwtService;

  @Autowired
  public UserServiceImpl(UserRepo userRepo, PasswordEncoder passwordEncoder,
      AuthenticationManager authenticationManager, JwtUtils jwtService) {
    this.userRepo = userRepo;
    this.passwordEncoder = passwordEncoder;
    this.authenticationManager = authenticationManager;
    this.jwtService = jwtService;
  }

  @Override
  public User register(User user) {
    User exitUser = userRepo.findByUsername(user.getUsername());
    User emailUser = userRepo.findByEmail(user.getEmail());
    if(emailUser!=null){
      throw new DuplicateEmailException("Email Already Registered");
    }
    if(exitUser!=null){
      throw new DuplicateUserException("Username already exists");
    }
    if (exitUser == null) {
      user.setPassword(passwordEncoder.encode(user.getPassword()));
      return userRepo.save(user);
    }
    return null;
  }

  @Override
  public List<User> getAllUser() {
    return userRepo.findAll();
  }

  @Override
  public String login(String email, String password) {
    Authentication authentication = authenticationManager
        .authenticate(new UsernamePasswordAuthenticationToken(email, password));
    if (authentication.isAuthenticated()) {
      User user = userRepo.findByEmail(email);
      Map<String, Object> claims = new HashMap<>();
      claims.put("userId",user.getUserId());
      claims.put("role",user.getUserRole());
      claims.put("username",user.getUsername());
      return jwtService.generateToken(email, claims);
    }
    return null;
  }

  @Override
  public User getUserById(Long userId) {
   Optional<User> u = userRepo.findById(userId);
   if(u.isPresent()){
    return u.get();
   }
    return null;
  }


}

<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<parent>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter-parent</artifactId>
		<version>3.0.1</version>
		<relativePath/> <!-- lookup parent from repository -->
	</parent>
	<groupId>com.examly</groupId>
	<artifactId>springapp</artifactId>
	<version>0.0.1-SNAPSHOT</version>
	<name>springapp</name>
	<description>Demo project for Spring Boot</description>
	<properties>
		<java.version>17</java.version>
	</properties>
	<dependencies>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-data-jpa</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-security</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-web</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-web-services</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-devtools</artifactId>
			<scope>runtime</scope>
			<optional>true</optional>
		</dependency>
		<dependency>
			<groupId>com.mysql</groupId>
			<artifactId>mysql-connector-j</artifactId>
			<scope>runtime</scope>
		</dependency>
				<dependency>
    <groupId>jakarta.validation</groupId>
    <artifactId>jakarta.validation-api</artifactId>
    <version>3.0.2</version>
</dependency>
<dependency>
    <groupId>org.hibernate.validator</groupId>
    <artifactId>hibernate-validator</artifactId>
</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-test</artifactId>
			<scope>test</scope>
		</dependency>

		<!-- <dependency>
            <groupId>io.jsonwebtoken</groupId>
            <artifactId>jjwt</artifactId>
            <version>0.9.1</version>
        </dependency> -->
		<dependency>
<groupId>io.jsonwebtoken</groupId>
<artifactId>jjwt-api</artifactId>
<version>0.11.5</version>
</dependency>
<!-- [https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-impl](https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-impl "https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-impl") -->
<dependency>
<groupId>io.jsonwebtoken</groupId>
<artifactId>jjwt-impl</artifactId>
<version>0.11.5</version>
</dependency>
<!-- [https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-jackson](https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-jackson "https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-jackson") -->
<dependency>
<groupId>io.jsonwebtoken</groupId>
<artifactId>jjwt-jackson</artifactId>
<version>0.11.5</version>
</dependency>
        <dependency>
            <groupId>javax.xml.bind</groupId>
            <artifactId>jaxb-api</artifactId>
            <version>2.3.1</version>
        </dependency>
		<dependency>
			<groupId>org.springframework.security</groupId>
			<artifactId>spring-security-test</artifactId>
			<scope>test</scope>
		</dependency>




  		<dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-mail</artifactId>
        </dependency>









	</dependencies>
	<build>
		<plugins>
			<plugin>
				<groupId>org.springframework.boot</groupId>
				<artifactId>spring-boot-maven-plugin</artifactId>
			</plugin>
		</plugins>
	</build>
</project>


-----------------------------------Angular-----------------

import { Injectable } from '@angular/core';
import { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';
import { Observable } from 'rxjs';
import { AuthService } from 'src/app/services/auth.service';

@Injectable({
  providedIn: 'root'
})
export class AuthGuard implements CanActivate {
  constructor(private authService: AuthService, private router: Router) { }

  canActivate(
    route: ActivatedRouteSnapshot,
    state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {
    const expectedRole = route.data['role'];
    const userRole = this.authService.getRole();
    if (!this.authService.isUserLoggedIn()) {
      this.router.navigate(['/login']);
      return false;
    }

    if (expectedRole && userRole !== expectedRole) {
      const errorObj = {
        status: "403 Forbidden",
        message: "You are not authorized to access this page!"
      };
      console.log(errorObj);
      return this.router.navigate(['/error'], { state: { error: errorObj } })
      return false;
    }

    return true;
  }

}

---------------------------------------------------

CoordinatorViewRequirementsComponent 


import { Component, OnInit } from '@angular/core';
import { Requirement } from 'src/app/models/requirement.model';
import { Trainer } from 'src/app/models/trainer.model';
import { RequirementService } from 'src/app/services/requirement.service';
import { TrainerService } from 'src/app/services/trainer.service';

@Component({
  selector: 'app-coordinator-view-requirements',
  templateUrl: './coordinator-view-requirements.component.html',
  styleUrls: ['./coordinator-view-requirements.component.css']
})
export class CoordinatorViewRequirementsComponent implements OnInit {
  requirements: Requirement[] = [];
  oRequirements: Requirement[] = [];
  searchText: string = '';
  trainers: Trainer[] = [];
  ftrainers: Trainer[] = [];
  showModal: boolean = false;
  selectedRequirement: Requirement | null = null;
  selectedTrainerId: number | null = null;

  constructor(
    private requirementService: RequirementService,
    private trainerService: TrainerService
  ) {}

  ngOnInit(): void {
    this.loadRequirements();
    this.loadTrainers();
  }

  loadRequirements() {
    this.requirementService.getAllRequirements().subscribe((data) => {
      this.requirements = data;
      this.oRequirements = data;
    });
  }

  loadTrainers() {
    this.trainerService.getAllTrainers().subscribe((data) => {
      this.trainers = data;
      this.loadRequirements();
    });
  }

  searchFilter() {
    this.requirements = this.oRequirements.filter((req) => {
      const titleMatch = req.title.toLowerCase().includes(this.searchText.toLowerCase());
      const deptMatch = req.department.toLowerCase().includes(this.searchText.toLowerCase());
      return titleMatch || deptMatch;
    });
  }



  reset() {
    this.searchText = '';
    this.requirements = this.oRequirements;
  }

  assignTrainer(requirement: Requirement) {
    this.selectedRequirement = requirement;
    this.selectedTrainerId = null;
    this.showModal = true;
  }

  confirmAssignment() {
    if (!this.selectedRequirement || this.selectedTrainerId == null) {
      alert("Please select a trainer.");
      return;
    }

    this.requirementService.assignTrainer(
      this.selectedRequirement.requirementId!,
      this.selectedTrainerId
    ).subscribe({
      next: () => {
        alert("Trainer assigned successfully!");

        const trainerObj = this.trainers.find(t=>t.trainerId===this.selectedTrainerId);
        if (this.selectedRequirement) {
          this.selectedRequirement.trainerId = this.selectedTrainerId!;
          this.selectedRequirement.trainer = trainerObj || null;
        }

        this.showModal = false;
        this.selectedTrainerId = null;
        this.selectedRequirement = null;
      },
      error: (err) => {
        console.error("Assignment failed:", err);
        alert("Failed to assign trainer.");
      }
    });
  }

  getTrainerName(id: number): string {
    const trainer = this.trainers.find(t => t.trainerId === id);
    return trainer ? trainer.name : 'Unknown';
  }
}



<h1>Available Requirements</h1>

<input type="text" placeholder="Search by Title or Department" [(ngModel)]="searchText" (input)="searchFilter()" /> <span> </span>
<button (click)="reset()" class="reset">Reset</button>

<table border="1">
  <thead>
    <tr>
      <th>#</th>
      <th>Title</th>
      <th>Department</th>
      <th>Posted Date</th>
      <th>Status</th>
      <th>Trainer Assigned</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let req of requirements; index as i">
      <td>{{ i + 1 }}</td>
      <td>{{ req.title }}</td>
      <td>{{ req.department }}</td>
      <td>{{ req.postedDate | date }}</td>
      <td>{{ req.status }}</td>
      <td>
        {{ req.trainer ? getTrainerName(req.trainer.trainerId) : 'Not Assigned' }}
      </td>
      <td>
        <!-- <button *ngIf="!req.trainerId" (click)="assignTrainer(req)">Assign Trainer</button>
        <span *ngIf="req.trainerId">Trainer Assigned</span> -->

        <button class="assign-trainer" [disabled]="req.trainer" (click)="assignTrainer(req)">
          Assign Trainer
        </button>

        <span *ngIf="req.trainer">Trainer Assigned</span>

      </td>
    </tr>
  </tbody>
</table>

<!-- Modal for assigning trainer -->
<div *ngIf="showModal" class="modal">
  <div class="modal-content">
    <h3>Assign Trainer</h3>
    <select [(ngModel)]="selectedTrainerId">
      <option [ngValue]="null">-- Select Trainer --</option>
      <option *ngFor="let trainer of trainers" [ngValue]="trainer.trainerId">
        {{ trainer.name }} - {{ trainer.expertise }}
      </option>
    </select>
    <br />
    <button (click)="confirmAssignment()">Confirm</button>
    <button (click)="showModal = false">Cancel</button>
  </div>
</div>



/* Heading */
h1 {
    text-align: center;
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 20px;
  }
  
  /* Search Input */
  input[type="text"] {
    width: 80%;
    padding: 8px;
    margin-right: 10px;
    margin-left: 15px;
    margin-bottom: 10px;
    border-radius: 4px;
    border: 1px solid #ccc;
    box-sizing: border-box;
  }
  
  /* Reset Button */
  button.reset {
    background-color: #f44336; /* Red background */
    color: white;
    padding: 8px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    margin-bottom: 20px;
  }
  
  button.reset:hover {
    background-color: #d32f2f;
  }
  
  /* Table Styling */
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
    margin-left: 15px;
  }
  
  table th,
  table td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
  }
  
  table th {
    background-color: #2196F3;
    color: white;
    padding-top: 12px;
    padding-bottom: 12px;
  }
  
  /* Modal Styling */
  .modal {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 400px;
    padding: 20px;
    background-color: white;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
    border-radius: 8px;
    z-index: 1000;
  }
  
  /* Modal Header */
  .modal-header {
    font-size: 18px;
    font-weight: bold;
    margin-bottom: 10px;
  }
  
  /* Modal Subtitle */
  .modal-subtitle {
    margin-top: 10px;
    font-size: 14px;
    color: #555;
  }
  
  /* Search Input */
  .search-input {
    width: 100%;
    padding: 8px;
    margin: 10px 0;
    border-radius: 4px;
    border: 1px solid #ccc;
    box-sizing: border-box;
  }
  
  /* Trainer List Items */
  .trainer-item {
    padding: 8px;
    border-bottom: 1px solid #eee;
    font-size: 14px;
  }
  
  /* Modal Buttons */
  .modal button {
    padding: 8px 16px;
    margin-right: 10px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
  
  .modal button:first-of-type {
    background-color: #4CAF50;
    color: white;
  }
  
  .modal button:last-of-type {
    background-color: #f44336;
    color: white;
  }
  

  /* Common Button Style */
button.assign-trainer {
    background-color: #4CAF50; /* Green */
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 50px; /* Rounded button */
    cursor: pointer;
    font-size: 14px;
    margin: 5px;
    transition: background-color 0.3s ease;
  }
  
  /* Hover Effect */
  button.assign-trainer:hover:enabled {
    background-color: #388E3C; /* Darker green on hover */
  }
  
  /* Disabled Button Style */
  button.assign-trainer:disabled {
    background-color: #C8E6C9; /* Light green */
    color: #666; /* Dimmed text */
    cursor: not-allowed;
  }

  .modal-content select {
    width: 100%;
    padding: 10px 14px;
    font-size: 15px;
    border: 1px solid #8c7f7f;
    border-radius: 6px;
    margin: 10px 0;
    background-color: #f9f9f9;
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
  }


-----------------------------------------------

CoordinatorViewTrainersComponent

import { Component, OnInit } from '@angular/core';
import { Router } from '@angular/router';
import { Trainer } from 'src/app/models/trainer.model';
import { TrainerService } from 'src/app/services/trainer.service';
import { apiUrl } from 'src/global';

@Component({
  selector: 'app-coordinator-view-trainers',
  templateUrl: './coordinator-view-trainers.component.html',
  styleUrls: ['./coordinator-view-trainers.component.css']
})
export class CoordinatorViewTrainersComponent implements OnInit {

  trainers: Trainer[] = [];
  Ogtrainers: Trainer[] = [];
  delete: boolean = false;
  errorMessage = '';
  trainerId: number;
  searchText: string = '';
  resumeUrl: string = '';


  showResumeModal = false;
  imageLoadError : boolean;


  constructor(private trainerService: TrainerService, private router: Router) { }

  ngOnInit(): void {
    this.loadData();
  }

  loadData() {
    this.trainerService.getAllTrainers().subscribe((data) => {
      this.trainers = data;
      this.Ogtrainers = data;
      console.log(this.trainers);
    })
  }

  searchByTrainer() {
    this.trainers = this.Ogtrainers;
    this.trainers = this.trainers.filter((trainer) => {
      let a = trainer.name.toLowerCase().includes(this.searchText.toLowerCase());
      return a;
    })
  }

  filterByStatus(option: string) {

    if (option === "All Status") {
      this.trainers = this.Ogtrainers;
    }
    else if (option === "Active") {
      this.trainers = this.Ogtrainers.filter((trainer) => trainer.status.includes("Active"));
    }
    else if (option === "Inactive") {
      this.trainers = this.Ogtrainers.filter((trainer) => trainer.status.includes("Inactive"));
    }
  }


  changeStatus(trainer: Trainer) {
    this.trainerService.updateTrainerStatus(trainer.trainerId!).subscribe({
      next: (updatedTrainer) => {
        trainer.status = updatedTrainer.status;
      },
      error: (err) => {
        console.error("Status update failed:", err);
        alert("Failed to update trainer status.");
      }
    });
  }


  editTrainer(id: number) {
    this.router.navigate(['/editTrainer', id]);
  }

  deleteTrainer(id: number) {
    this.delete = true;
    this.trainerId = id;
  }

  confirmDelete() {
    console.log(this.trainerId);
    this.trainerService.deleteTrainer(this.trainerId).subscribe((data) => {
      this.loadData();
      this.delete = false;
      console.log("Trainer Deleted");
    }, (error) => {
      this.errorMessage = "Trainer cannot be deleted."
    })
  }

  cancelDelete() {
    this.delete = false;
  }


  viewResume(resumeFileName: string) {
    this.resumeUrl = `${apiUrl}/images/${resumeFileName}`;
    this.showResumeModal = true;
    this.imageLoadError = false;
  }


  closeResumeModal() {
    this.showResumeModal = false;
  }
}



<h2>Trainers </h2>
<hr>
Search By: <input type="text" [(ngModel)]="searchText" placeholder="Trainer Name..." (input)="searchByTrainer()">
 
Filter By: <select name="status" id="status" #abc (change)="filterByStatus(abc.value)">
    <option value="All Status">All Status</option>
    <option value="Active">Active</option>
    <option value="Inactive">Inactive</option>
</select>
<table border="2">
    <thead>
        <tr>
            <th>S.NO</th>
            <th>NAME</th>
            <th>EMAIL</th>
            <th>PHONE</th>
            <th>EXPERTISE</th>
            <th>STATUS</th>
            <th>ACTION</th>
        </tr>
    </thead>
    <tbody *ngIf="trainers.length == 0">
        <p>Oops! No record found</p>
    </tbody>
    <tbody>
        <tr *ngFor="let trainer of trainers ; index as i">
            <td>{{i+1}}</td>
            <td>{{trainer.name}}</td>
            <td>{{trainer.email}}</td>
            <td>{{trainer.phone}}</td>
            <td>{{trainer.expertise}}</td>
            <td>{{trainer.status}}</td>
            <td><button (click)="editTrainer(trainer.trainerId)">Edit</button> 
                <button (click)="deleteTrainer(trainer.trainerId)">Delete</button> 
                <button (click)="changeStatus(trainer)">Make <span>{{trainer.status == 'Active' ? 'Inactive' :
                        'Active'}}</span></button> 
                <button (click)="viewResume(trainer.resume)">View Resume</button>
            </td>
        </tr>
    </tbody>
</table>

<!-- Delete Confirmation Modal -->
<div *ngIf="delete" class="modal">
    <div class="modal-content">
      <span class="close" (click)="cancelDelete()">&times;</span>
      <h3>Confirm Delete</h3>
      <p>Are you sure you want to delete this trainer?</p>
      <button (click)="confirmDelete()">Yes, Delete</button>
      <button (click)="cancelDelete()">Cancel</button>
    </div>
  </div>
 
  <!-- Resume Preview Modal -->
  <div *ngIf="showResumeModal" class="modal">
    <div class="modal-content">
      <span class="close" (click)="closeResumeModal()">&times;</span>
      <h3>Resume Preview</h3>
      <img [src]="resumeUrl" alt="Resume Image" style="max-width: 100%; max-height: 500px;"
           (error)="imageLoadError = true" *ngIf="!imageLoadError" />
      <p *ngIf="imageLoadError">
        Unable to load resume image.
        <a [href]="resumeUrl" target="_self">Click here to view</a>.
      </p>
    </div>
  </div>
 
 
/* Page Layout */
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f9f9f9;
    margin: 0;
    padding: 0;
}
 
/* Header */
h2 {
    margin: 20px 0;
    color: #333;
    font-size: 24px;
    text-align: center;
}
 
 
/* Horizontal Line */
hr {
    border: none;
    border-top: 2px solid #007bff;
    margin: 10px 0 20px 0;
}
 
 
/* Search and Filter */
input[type="text"],
select {
    padding: 8px 12px;
    margin: 10px 10px 20px 0;
    border: 1px solid #ccc;
    border-radius: 6px;
    font-size: 14px;
}
 
/* Table Styling */
table {
    width: 100%;
    border-collapse: collapse;
    background-color: #fff;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    border-radius: 8px;
    overflow: hidden;
}
 
th,
td {
    padding: 12px 16px;
    text-align: left;
    border-bottom: 1px solid #ddd;
}
 
th {
    background-color: #007bff;
    color: white;
    font-weight: 600;
}
 
tr:hover {
    background-color: #f1f1f1;
}
 
/* Action Buttons */
button {
    padding: 6px 10px;
    margin: 2px;
    border: none;
    border-radius: 15px;
    color: white;
    cursor: pointer;
    font-size: 13px;
}
 
button:hover {
    opacity: 0.9;
}
 
button:nth-child(1) {
    background-color: #28a745;
    /* Edit - Green */
}
 
button:nth-child(2),
button:nth-child(3) {
    background-color: #dc3545;
    /* Delete & Make Inactive - Red */
}
 
button:nth-child(4) {
    background-color: #007bff;
    /* View Resume - Blue */
}
 
/* Delete Confirmation */
/* Page Layout */
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f9f9f9;
    margin: 0;
    padding: 0;
}
 
/* Header */
h2 {
    margin: 20px 0;
    color: #333;
    font-size: 24px;
    text-align: center;
}
 
 
/* Horizontal Line */
hr {
    border: none;
    border-top: 2px solid #007bff;
    margin: 10px 0 20px 0;
}
 
 
/* Search and Filter */
input[type="text"],
select {
    padding: 8px 12px;
    margin: 10px 10px 20px 0;
    border: 1px solid #ccc;
    border-radius: 6px;
    font-size: 14px;
}
 
/* Table Styling */
table {
    width: 100%;
    border-collapse: collapse;
    background-color: #fff;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    border-radius: 8px;
    overflow: hidden;
}
 
th,
td {
    padding: 12px 16px;
    text-align: left;
    border-bottom: 1px solid #ddd;
}
 
th {
    background-color: #007bff;
    color: white;
    font-weight: 600;
}
 
tr:hover {
    background-color: #f1f1f1;
}
 
/* Action Buttons */
button {
    padding: 6px 10px;
    margin: 2px;
    border: none;
    border-radius: 15px;
    color: white;
    cursor: pointer;
    font-size: 13px;
}
 
button:hover {
    opacity: 0.9;
}
 
button:nth-child(1) {
    background-color: #28a745;
    /* Edit - Green */
}
 
button:nth-child(2),
button:nth-child(3) {
    background-color: #dc3545;
    /* Delete & Make Inactive - Red */
}
 
button:nth-child(4) {
    background-color: #007bff;
    /* View Resume - Blue */
}
 
/* Delete Confirmation */
div[ngIf="delete"] {
    margin-top: 20px;
    background-color: #fff3f3;
    padding: 15px;
    border: 1px solid #f5c2c7;
    border-radius: 6px;
}
 
/* Modal Styling */
.modal {
    display: block;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.6);
}
 
.modal-content {
    background-color: #fff;
    margin: 5% auto;
    padding: 20px 30px;
    border-radius: 10px;
    width: 80%;
    max-width: 700px;
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
    animation: fadeIn 0.3s ease-in-out;
}
 
.close {
    float: right;
    font-size: 28px;
    font-weight: bold;
    color: #333;
    cursor: pointer;
}
 
.close:hover {
    color: #ff0000;
}
 
/* Resume Image */
.modal-content img {
    display: block;
    margin: 20px auto;
    max-width: 100%;
    max-height: 500px;
    border: 1px solid #ccc;
    border-radius: 6px;
    z-index: 1001;
  }
  
 
/* Fade-in Animation */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
 
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
 
/* Modal Styling */
.modal {
    display: block;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.6);
}
 
.modal-content {
    background-color: #fff;
    margin: 5% auto;
    padding: 20px 30px;
    border-radius: 10px;
    width: 80%;
    max-width: 700px;
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
    animation: fadeIn 0.3s ease-in-out;
}
 
.close {
    float: right;
    font-size: 28px;
    font-weight: bold;
    color: #333;
    cursor: pointer;
}
 
.close:hover {
    color: #ff0000;
}
 
/* Resume Image */
.modal-content img {
    display: block;
    margin: 20px auto;
    max-width: 100%;
    max-height: 500px;
    border: 1px solid #ccc;
    border-radius: 6px;
}
 
/* Fade-in Animation */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
 
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
 
-----------------------------------------------------
CoordinatornavComponen

import { Component, OnInit } from '@angular/core';
import { Router } from '@angular/router';
import { AuthService } from 'src/app/services/auth.service';

@Component({
  selector: 'app-coordinatornav',
  templateUrl: './coordinatornav.component.html',
  styleUrls: ['./coordinatornav.component.css']
})
export class CoordinatornavComponent implements OnInit {
  showLogoutPopup = false;
  isLoggedin = false;
  role: string | null = null;
  username: string | null = null;

  constructor(private auth: AuthService, private router: Router) { }

  ngOnInit(): void {
    this.loadUser();
  }

  loadUser() {
    this.isLoggedin = this.auth.isUserLoggedIn();
    this.role = this.auth.getRole();
    this.username = this.auth.getAuthenticatedUser();
  }
  confirmLogout() {
    this.showLogoutPopup = true;
  }
  cancelLogout() {
    this.showLogoutPopup = false;
  }
  logout() {
    this.auth.logout();
    this.isLoggedin = false;
    this.role = null;
    this.username = null;
    this.showLogoutPopup = false;
    this.router.navigate(['/login']).then(()=>{window.location.reload()});
  }

  isManager(){
    return this.role==='Manager';
  }
}

<!-- <nav *ngIf="isLoggedin">
  <div>
    <ul>
      <li><a [routerLink]="['/home']">Home</a></li>

      <li class="dropdown">
        <a href="#">Trainers</a>
        <ul class="dropdown-menu">
          <li><a [routerLink]="['/trainers']">Add Trainer</a></li>
          <li><a [routerLink]="['/trainers/view']">View Trainer</a></li>
        </ul>
      </li>

      <li><a [routerLink]="['/requirements']">Requirements</a></li>
      <li><a [routerLink]="['/feedbacks']">Feedbacks</a></li>
    </ul>
  </div>

  <div class="user-info">
    <span id="username">{{ username }}</span> | 
    <span id="role">{{ role }}</span>
    <a href="#" class="logout-btn" (click)="confirmLogout()">Logout</a>
  </div>
</nav>


<div *ngIf="showLogoutPopup" class="logout-popup">
  <div class="popup-content">
    <p>Are you sure you want to logout?</p>
    <button (click)="logout()">Yes</button>
    <button (click)="cancelLogout()">No</button>
  </div>
</div> -->

<nav *ngIf="isLoggedin">
  <div class="nav-left">
    <span class="logo">TrainerHub</span>
    <ul class="nav-list">
      <li><a [routerLink]="['/home']">Home</a></li>

      <li class="dropdown">
        <a>Trainers</a> 
        <ul class="dropdown-menu">
          <li><a [routerLink]="['/trainers']">Add Trainer</a></li>
          <li><a [routerLink]="['/trainers/view']">View Trainer</a></li>
        </ul>
      </li>

      <li><a [routerLink]="['/requirements']">Requirements</a></li>
      <li><a [routerLink]="['/feedbacks']">Feedbacks</a></li>
    </ul>
  </div>

  <div class="user-info">
    <span id="username">{{ username }}</span> | 
    <span id="role">{{ role }}</span>
    <a href="#" class="logout-btn" (click)="confirmLogout()">Logout</a>
  </div>
</nav>

<!-- Logout Confirmation Popup -->
<div *ngIf="showLogoutPopup" class="logout-popup">
  <div class="popup-content">
    <p>Are you sure you want to logout?</p>
    <button (click)="logout()">Yes</button>
    <button (click)="cancelLogout()">No</button>
  </div>
</div>


/* Main navbar container */
nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: linear-gradient(to right, #384c62, #ff8c00); /* Blue to orange gradient */
  padding: 10px 30px;
  font-family: 'Segoe UI', sans-serif;
}

/* Left section */
.nav-left {
  display: flex;
  align-items: center;
  gap: 30px;
}

/* Logo */
.logo {
  color: white;
  font-size: 20px;
  font-weight: bold;
}

/* Navigation list */
.nav-list {
  list-style: none;
  display: flex;
  gap: 20px;
  margin: 0;
  padding: 0;
}

/* Navigation links */
.nav-list li a {
  color: white;
  text-decoration: none;
  font-weight: 500;
  padding: 8px 12px;
  border-radius: 4px;
  transition: background 0.3s ease;
}

.nav-list li a:hover {
  background-color: rgba(255, 255, 255, 0.2);
}

/* Dropdown menu */
.dropdown {
  position: relative;
}

.dropdown-menu {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  background-color: #333;
  border-radius: 4px;
  padding: 10px 0;
  min-width: 160px;
  z-index: 1000;
  list-style: none;
  margin: 0;
}

.dropdown:hover .dropdown-menu {
  display: block;
}

.dropdown-menu li a {
  display: block;
  padding: 8px 16px;
  color: white;
  text-decoration: none;
  font-weight: 400;
}

.dropdown-menu li a:hover {
  background-color: #555;
}

/* Right section */
.user-info {
  display: flex;
  align-items: center;
  gap: 10px;
  color: white;
  font-weight: 500;
}

/* Separator line */
.separator {
  margin: 0 5px;
}

/* Logout button */
.logout-btn {
  background-color: red;
  color: white;
  border-radius: 4px;
  padding: 8px 12px;
  text-decoration: none;
  font-weight: 500;
}

/* Logout popup */
.logout-popup {
  position: fixed;
  top: 30%;
  left: 50%;
  transform: translate(-50%, -30%);
  background-color: white;
  border: 1px solid #ccc;
  border-radius: 8px;
  padding: 20px;
  z-index: 2000;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.popup-content p {
  margin-bottom: 20px;
  font-size: 16px;
  font-weight: 500;
}

.popup-content button {
  margin-right: 10px;
  padding: 6px 12px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-weight: 500;
}

.popup-content button:first-child {
  background-color: red;
  color: white;
}

.popup-content button:last-child {
  background-color: #ccc;
}

-----------------------------------------------------

CoordinatorviewfeedbackComponent


import { Component, OnInit } from '@angular/core';
import { Feedback } from 'src/app/models/feedback.model';
import { Trainer } from 'src/app/models/trainer.model';
import { User } from 'src/app/models/user.model';
import { FeedbackService } from 'src/app/services/feedback.service';
import { TrainerService } from 'src/app/services/trainer.service';

@Component({
  selector: 'app-coordinatorviewfeedback',
  templateUrl: './coordinatorviewfeedback.component.html',
  styleUrls: ['./coordinatorviewfeedback.component.css']
})
export class CoordinatorviewfeedbackComponent implements OnInit {

  feedbacks:Feedback[]=[];
  filteredFeedbacks:Feedback[]=[];
  user :User;
  u:boolean = false;
  t : boolean  = false; 
  trainer : Trainer;
  constructor(private fs:FeedbackService, private trainerService : TrainerService) { }


  filterByCategory(option : string) {
    if(option == ''){
      this.feedbacks = this.filteredFeedbacks;
    }
    else{
      this.feedbacks = this.filteredFeedbacks.filter((f)=> f.category.includes(option));
    }

  }

  ngOnInit(): void {
    this.loadfeedback();
  }
  loadfeedback(){
    this.fs.getFeedbacks().subscribe((data)=>{
      this.feedbacks=data;
      this.filteredFeedbacks = data;
    })
  }

  showProfile(userId : number) {
     this.u = true;
     this.fs.getUserById(userId).subscribe((data)=>{
      this.user =data;
      console.log(this.user);
     })
  }

  viewTrainer(trainerId : number) {
    this.t = true;
    this.trainerService.getTrainerById(trainerId).subscribe((data)=> {
      this.trainer = data;
      console.log(this.trainer);
    })
  }

  closeModal() {
    if(this.u == true) {
      this.u = false;
    }
    else {
      this.t = false;
    }
  }

}


<h2>Feedback Received</h2>
<hr>


<div class="select-container">
    Filter By Category :
    <select name="category" id="category" #abc (change)="filterByCategory(abc.value)">
      <option value="">All Categories</option>
      <option value="clarity">Clarity of Explanation</option>
      <option value="language">Language Proficiency</option>
      <option value="pace">Pace of Delivery</option>
      <option value="others">Others</option>
    </select>
  </div>
  

<table border="1" *ngIf="feedbacks">
    <thead>
        <tr>
            <th>S.No</th>
            <th>User Name</th>
            <th>Feedback</th>
            <th>Posted Date</th>
            <th>Action</th>
        </tr>
    </thead>
    <tr *ngFor="let f of feedbacks ;index as i">
        <td>{{i+1}}</td>
        <td>{{f.user.username}}</td>
        <td>{{f.feedbackText}}</td>
        <td>{{f.date | date : 'dd/MM/yy'}}</td>
        <td> <button (click)="showProfile(f.user?.userId)">Show Profile</button> <button
                (click)="viewTrainer(f.trainer?.trainerId)">View Trainer Info</button></td>
    </tr>
</table>
<div *ngIf="!feedbacks">
    No feedbacks are found
</div>

<div class="modal" *ngIf="u">
    <div class="modal-content">
      <h3>User Details</h3>
      <p>Email : {{user.email}}</p>
      <p>Username : {{user.username}}</p>
      <p>Mobile Number : {{user.mobileNumber}}</p>
      <button (click)="closeModal()" class="close">Close</button>
    </div>
  </div>
  


  <div class="modal" *ngIf="t">
    <div class="modal-content">
      <button class="close-btn" (click)="closeModal()">X</button>
      <h3>Trainer Details</h3>
      <p>Trainer Name: {{trainer.name}}</p>
      <p>Expertise: {{trainer.expertise}}</p>
      <p>Email: {{trainer.email}}</p>
      <p>Phone: {{trainer.phone}}</p>
    </div>
  </div>
  


/* Heading */
h2 {
  font-size: 22px;
  font-weight: 600;
  color: #2c3e50;
  text-align: center;
  margin-bottom: 10px;
}

h3 {
  text-align: center;
}

/* Horizontal Line */
hr {
  border: none;
  border-top: 4px solid #007bff;
  margin-bottom: 20px;
}

/* Filter Dropdown */

.select-container {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: 20px;
  gap: 10px;
}

select {
  padding: 6px 12px;
  font-size: 14px;
  border: 1px solid #8c7f7f;
  border-radius: 4px;
}

/* Table Styling */
table {
  width: 100%;
  border-collapse: collapse;
  border-radius: 8px;
  margin-top: 10px;
  font-family: Arial, sans-serif;
}

th, td {
  border: 1px solid #ddd;
  padding: 10px 14px;
  text-align: center;
}

thead {
  background-color: #007bff;
}

th {
  font-weight: bold;
  text-transform: uppercase;
  color: #ffffff;
}

/* Table Rows */
tr:nth-child(even) {
  background-color: #fafafa;
}

/* Action Buttons */
button {
  background-color: #1d699c;
  color: white;
  border: none;
  padding: 8px 12px;
  margin: 0 4px;
  font-size: 13px;
  cursor: pointer;
  border-radius: 14px;
  align-items: center;
}

button:hover {
  background-color: #2980b9;
}

/* No Feedback Message */
div[ng-reflect-ng-if="!feedbacks"] {
  margin-top: 20px;
  font-style: italic;
  color: #888;
  text-align: center;
}

/* Modal Sections */
div[u], div[t] {
  background-color: #fff;
  border: 1px solid #ccc;
  padding: 15px;
  margin-top: 20px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  max-width: 400px;
}

div[u] h3, div[t] h3 {
  margin-top: 0;
  font-size: 18px;
  color: #2c3e50;
}

div[u] p, div[t] p {
  margin: 6px 0;
  font-size: 14px;
  color: #555;
}

div[u] button, div[t] button {
  float: right;
  background-color: #e74c3c;
  color: white;
  border: none;
  padding: 4px 8px;
  cursor: pointer;
  font-size: 12px;
  border-radius: 3px;
}

/* Modal Overlay */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.3); /* semi-transparent overlay */
  backdrop-filter: blur(6px); /* this line adds the blur effect */
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

/* Modal Content Box */
.modal-content {
  background-color: #fff;
  padding: 20px 25px;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  max-width: 400px;
  width: 90%;
  position: relative;
}

/* Close Button */
.close-btn {
  position: absolute;
  top: 8px;
  right: 10px;
  background-color: #007bff;
  color: white;
  border: none;
  padding: 4px 8px;
  cursor: pointer;
  font-size: 14px;
  border-radius: 4px;
}


----------------------------------------
dashboard


import { Component, OnInit } from '@angular/core';
import { TrainerService } from 'src/app/services/trainer.service';
import { RequirementService } from 'src/app/services/requirement.service';
import { Requirement } from 'src/app/models/requirement.model';
import { Trainer } from 'src/app/models/trainer.model';
import { of } from 'rxjs';
import { catchError } from 'rxjs/operators';

@Component({
  selector: 'app-dashboard',
  templateUrl: './dashboard.component.html',
  styleUrls: ['./dashboard.component.css']
})
export class DashboardComponent implements OnInit {
  totalTrainers = 0;
  totalRequirements = 0;
  assignedTrainers = 0;
  trainerStatusCount: { [status: string]: number } = {};

  loading = true;
  animatedTotalTrainers = 0;
  animatedTotalRequirements = 0;
  animatedAssignedTrainers = 0;

  constructor(
    private trainerService: TrainerService,
    private requirementService: RequirementService
  ) { }

  ngOnInit(): void {
    this.loadDashboardData();
  }

  loadDashboardData() {

    this.trainerService.getAllTrainers()
      .pipe(catchError(() => of([])))
      .subscribe((trainers: Trainer[]) => {
        this.totalTrainers = trainers.length;
        this.computeTrainerStatus(trainers);
        this.animateNumbers();
      });


    this.requirementService.getAllRequirements()
      .pipe(catchError(() => of([])))
      .subscribe((reqs: Requirement[]) => {
        this.totalRequirements = reqs.length;

        this.assignedTrainers = reqs.filter(r => r.trainer != null).length;

        this.animateNumbers();
        this.loading = false;
      });
  }

  computeTrainerStatus(trainers: Trainer[]) {
    this.trainerStatusCount = {};
    trainers.forEach(t => {
      // Default to 'Unassigned' if status is null or empty
      const status = t.status && t.status.trim() !== '' ? t.status : 'Unassigned';
      this.trainerStatusCount[status] = (this.trainerStatusCount[status] || 0) + 1;
    });

  }

  getTrainerStatusKeys(): string[] {
    return Object.keys(this.trainerStatusCount);
  }

  getStatusPercent(status: string): number {
    if (this.loading) return 0;
    const total = Object.values(this.trainerStatusCount).reduce((a, b) => a + b, 0);
    return total > 0 ? (this.trainerStatusCount[status] / total) * 100 : 0;
  }


  animateNumbers() {
    let duration = 1000;
    let frameRate = 20;
    let steps = duration / frameRate;
    let trainerStep = this.totalTrainers / steps;
    let reqStep = this.totalRequirements / steps;
    let assignedStep = this.assignedTrainers / steps;

    let currentStep = 0;
    let interval = setInterval(() => {
      currentStep++;
      this.animatedTotalTrainers = Math.min(Math.round(currentStep * trainerStep), this.totalTrainers);
      this.animatedTotalRequirements = Math.min(Math.round(currentStep * reqStep), this.totalRequirements);
      this.animatedAssignedTrainers = Math.min(Math.round(currentStep * assignedStep), this.assignedTrainers);

      if (currentStep >= steps) clearInterval(interval);
    }, frameRate);
  }
}


<div class="dashboard-container">
    <h1>TrainerHub Dashboard</h1>
  
    <!-- Top Stats Cards -->
    <div class="stats-grid">
      <div class="card">
        <h3>Total Trainers</h3>
        <p>{{ animatedTotalTrainers }}</p>
      </div>
      <div class="card">
        <h3>Total Requirements</h3>
        <p>{{ animatedTotalRequirements }}</p>
      </div>
      <div class="card">
        <h3>Trainers Assigned</h3>
        <p>{{ animatedAssignedTrainers }}</p>
      </div>
    </div>
  
    <!-- Charts Section -->
    <div class="charts-grid">
      <!-- Trainer Status Bar Chart -->
      <div class="chart-card">
        <h3>Trainer Status Distribution</h3>
        <div class="bar-chart">
          <div
            class="bar"
            *ngFor="let status of getTrainerStatusKeys()"
            [style.height.%]="getStatusPercent(status)"
          >
            <span>{{ status }} ({{ trainerStatusCount[status] }})</span>
          </div>
        </div>
      </div>
  
      <!-- Requirements Assigned vs Unassigned Pie -->
      <div class="chart-card">
        <h3>Requirements Assignment</h3>
        <div class="pie-chart">
          <div class="slice assigned"
               [style.flex]="assignedTrainers">
          </div>
          <div class="slice unassigned"
               [style.flex]="totalRequirements - assignedTrainers">
          </div>
        </div>
        <div class="legend">
          <span class="legend-item assigned">Assigned</span>
          <span class="legend-item unassigned">Unassigned</span>
        </div>
      </div>
    </div>
  </div>
  
  
  
  
  .dashboard-container {
    padding: 20px;
    max-width: 1200px;
    margin: auto;
  }
  
  h1 {
    text-align: center;
    margin-bottom: 20px;
    font-size: 28px;
    color: #333;
  }
  
  /* Top Stats Cards */
  .stats-grid {
    display: flex;
    gap: 20px;
    margin-bottom: 30px;
  }
  
  .card {
    flex: 1;
    background: #007bff;
    color: white;
    padding: 20px;
    border-radius: 8px;
    text-align: center;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s ease;
  }
  
  .card:hover {
    transform: translateY(-4px);
  }
  
  .card h3 {
    margin-bottom: 10px;
  }
  
  /* Charts Section */
  .charts-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
  }
  
  .chart-card {
    background: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }
  
  .chart-card h3 {
    text-align: center;
    margin-bottom: 15px;
    color: #555;
  }
  
  /* Bar Chart Styling */
  .bar-chart {
    display: flex;
    align-items: flex-end;
    gap: 10px;
    height: 200px;
    border-bottom: 2px solid #ddd;
    padding: 10px 0;
  }
  
  .bar {
    background: #007bff;
    flex: 1;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    color: white;
    border-radius: 4px 4px 0 0;
    transition: height 1s ease-out; /* animate height */
  }
  
  .bar span {
    writing-mode: vertical-rl;
    transform: rotate(180deg);
    font-size: 12px;
    margin-bottom: 5px;
  }
  
  /* Pie Chart Styling */
  .pie-chart {
    display: flex;
    height: 150px;
    border-radius: 50%;
    overflow: hidden;
    margin: 0 auto 15px auto;
    width: 150px;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
  }
  
  .slice {
    height: 100%;
    transition: flex 1s ease-out;
  }
  
  .assigned {
    background: #28a745;
  }
  
  .unassigned {
    background: #dc3545;
  }
  
  /* Legend */
  .legend {
    display: flex;
    justify-content: center;
    gap: 20px;
    font-size: 14px;
  }
  
  .legend-item {
    display: flex;
    align-items: center;
    gap: 6px;
  }
  
  .legend-item::before {
    content: '';
    width: 12px;
    height: 12px;
    border-radius: 2px;
    display: inline-block;
  }
  
  .legend-item.assigned::before {
    background: #28a745;
  }
  
  .legend-item.unassigned::before {
    background: #dc3545;
  }
  
 
  --------------------------------------------------
 ErrorComponent

import { Component, OnInit } from '@angular/core';

@Component({
  selector: 'app-error',
  templateUrl: './error.component.html',
  styleUrls: ['./error.component.css']
})
export class ErrorComponent implements OnInit {
  
  errorTitle: string = 'Something Went Wrong';
  errorMessage: string = 'We \'re sorry, but an error occurred. Please try again later.';

  constructor() { }

  ngOnInit(): void {
  }

}


<div class="error-container">
    <div class="error-box">
      <h1>{{ errorTitle }}</h1>
      <p>{{ errorMessage }}</p>
      <button routerLink="/home">Go Back Home</button>
    </div>
  </div>
  

.error-container {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: #ffffff;
  }
  
  .error-box {
    text-align: center;
    padding: 40px;
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  }
  
  .error-box h1 {
    font-size: 2em;
    color: #d32f2f;
    margin-bottom: 20px;
  }
  
  .error-box p {
    font-size: 1.2em;
    color: #555;
    margin-bottom: 30px;
  }
  
  .error-box button {
    padding: 10px 20px;
    background-color: #0078d4;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
  
  .error-box button:hover {
    background-color: #005fa3;
  }
-------------------------------------------------

home-page
import { Component, OnInit } from '@angular/core';

@Component({
  selector: 'app-home-page',
  templateUrl: './home-page.component.html',
  styleUrls: ['./home-page.component.css']
})
export class HomePageComponent implements OnInit {

  constructor() { }

  ngOnInit(): void {
  }

}






    <section class="main-image">
        <img src="assets/images/homepage.webp">
        <h1>TrainerHub</h1>
            <p>Your ultimate solution for managing trainers and training requirements.</p>
        
    </section>

    <section class="welcome-section">
        <h2>Welcome to TrainerHub</h2>
        <p>Streamline your training needs with TrainerHub. We offer a comprehensive platform for managing trainers, tracking requirements, and ensuring efficient execution of training programs.</p>
    </section>

    <footer>
        <h3>Contact Us</h3>
        <p>Phone: 123-456-7890</p>
        <p>Email: supportabc.com</p>
    </footer>



* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', sans-serif;
}

body {
    background-color: #f9f9f9;
    color: #333;
}

header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #004080;
    color: white;
    padding: 15px 30px;
}

.logo {
    font-size: 1.5em;
    font-weight: bold;
}

nav ul {
    list-style: none;
    display: flex;
    gap: 20px;
}

nav a {
    color: white;
    text-decoration: none;
    font-weight: 500;
}

.logout {
    background-color: #ff4d4d;
    border: none;
    padding: 8px 12px;
    color: white;
    cursor: pointer;
    border-radius: 4px;
}

.main-image {
    position: relative;
    text-align: center;
    margin-top: 20px;
}

.main-image img {
    width: 100%;
    height: auto;
    display: block;
}

.overlay-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    background-color: rgba(0, 0, 0, 0.5);
    padding: 30px;
    border-radius: 10px;
}

.overlay-text h1 {
    font-size: 2.5em;
    margin-bottom: 10px;
}

.welcome-section {
    padding: 40px 30px;
    background-color: #ffffff;
    text-align: center;
}

.welcome-section h2 {
    font-size: 2em;
    margin-bottom: 15px;
}

footer {
    background-color: #004080;
    color: white;
    text-align: center;
    padding: 20px;
}
---------------------------------------------
login 

import { Component, OnInit } from '@angular/core';
import { FormBuilder, FormGroup, Validators } from '@angular/forms';
import { Router } from '@angular/router';
import { AuthService } from 'src/app/services/auth.service';

@Component({
  selector: 'app-login',
  templateUrl: './login.component.html',
  styleUrls: ['./login.component.css']
})
export class LoginComponent implements OnInit {
  loginForm: FormGroup;
  errorMessage: string = '';

  constructor(
    private fb: FormBuilder,
    private authService: AuthService,
    private router: Router
  ) {}

  ngOnInit(): void {
    this.loginForm = this.fb.group({
      email: ['', [Validators.required, Validators.email]],
      password: ['', [Validators.required]]
    });
  }

  onSubmit() {
    if (this.loginForm.valid) {
      const { email, password } = this.loginForm.value;

      this.authService.login(email, password).subscribe({
        next: () => {
          const role = this.authService.getRole();

          if (role === 'Manager' || role === 'Coordinator') {
            this.router.navigate(['/home']).then(() => {
              window.location.reload();
            });
          } else {
            this.router.navigate(['/user-dashboard']).then(() => {
              window.location.reload();
            });
          }
        },
        error: (error) => {
          this.errorMessage = "Invalid email or password";
          console.error('Login error:', error);
        }
      });
    }
  }

  get f() {
    return this.loginForm.controls;
  }
}


<div class="login-page">
    <img src="assets/images/background.webp" alt="background">
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div>
            <label for="email">Email</label>
            <input type="email" name="email" id="email" formControlName="email">
            <div *ngIf="f.email.touched || f.email.dirty">
                <div *ngIf="f.email.errors?.required">Email is Required </div>


            </div>
        </div>
        <label for="password">Password</label>
        <input type="password" name="password" id="password" formControlName="password">
        <div *ngIf="f.password.touched || f.password.dirty">
            <div *ngIf="f.password.errors?.required">Password is Required </div>


        </div>
        <div *ngIf="errorMessage">
            {{errorMessage}}

        </div>
        <div>
            <button type="submit" [disabled]="loginForm.invalid">Login </button>
        </div>
        <p>
            Don't have an account?
            <a routerLink="/signup">Sign up</a>
        </p>



</form>
</div>

/* Page background */
.login-page {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    position: relative;
    overflow: hidden;
  }
  
  /* Background image */
  .login-page img {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: brightness(0.5) blur(3px);
    z-index: -1;
  }
  
  /* Form card */
  form {
    background: #fff;
    padding: 2rem 2.5rem;
    border-radius: 14px;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
    width: 100%;
    max-width: 380px;
    animation: fadeIn 0.6s ease;
  }
  
  /* Heading */
  form h2 {
    text-align: center;
    margin-bottom: 1.5rem;
    font-size: 1.6rem;
    color: #1976d2;
    font-weight: 700;
  }
  
  /* Labels */
  label {
    display: block;
    margin-bottom: 0.35rem;
    font-weight: 600;
    color: #333;
    font-size: 0.9rem;
  }
  
  /* Inputs */
  input {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid #ccc;
    border-radius: 8px;
    font-size: 0.95rem;
    margin-bottom: 0.8rem;
    transition: border 0.3s;
  }
  
  input:focus {
    outline: none;
    border-color: #1976d2;
    box-shadow: 0 0 0 2px rgba(25, 118, 210, 0.2);
  }
  
  /* Error messages */
  .error, div[ng-reflect-ng-if="true"] {
    color: #d32f2f;
    font-size: 0.85rem;
    margin-top: -6px;
    margin-bottom: 8px;
  }
  
  /* Submit button */
  button {
    width: 100%;
    padding: 10px;
    background: #1976d2;
    color: #fff;
    font-weight: 600;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    cursor: pointer;
    transition: background 0.3s, transform 0.1s;
  }
  
  button:hover:not(:disabled) {
    background: #1565c0;
    transform: translateY(-2px);
  }
  
  button:disabled {
    background: #90caf9;
    cursor: not-allowed;
  }
  
  /* Signup link */
  p {
    margin-top: 1rem;
    text-align: center;
    font-size: 0.9rem;
    color: #555;
  }
  
  p a {
    color: #1976d2;
    font-weight: 600;
    text-decoration: none;
  }
  
  p a:hover {
    text-decoration: underline;
  }
  
  /* Fade-in animation */
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  /* Responsive */
  @media (max-width: 480px) {
    form {
      margin: 1rem;
      padding: 1.5rem;
    }
  }

-----------------------------------

ManagerRequirementComponent

import { Component, OnInit } from '@angular/core';
import { FormBuilder, FormGroup, Validators } from '@angular/forms';
import { ActivatedRoute, Router } from '@angular/router';
import { Requirement } from 'src/app/models/requirement.model';
import { Trainer } from 'src/app/models/trainer.model';
import { RequirementService } from 'src/app/services/requirement.service';
import { TrainerService } from 'src/app/services/trainer.service';

@Component({
  selector: 'app-manager-requirement',
  templateUrl: './manager-requirement.component.html',
  styleUrls: ['./manager-requirement.component.css']
})
export class ManagerRequirementComponent implements OnInit {
  requirementForm: FormGroup;

  requirement: Requirement = {
    title: '',
    description: '',
    department: '',
    postedDate: new Date(),
    status: '',
    duration: '',
    mode: '',
    location: '',
    skillLevel: '',
    budget: 0,
    priority: ''
  };


  reqId: number = 0;
  isEditing: boolean = false;
  trainers: Trainer[] = [];
  showTrainerList: boolean = false;
  showAddPopup: boolean = false;
  showUpdatePopup: boolean = false;

  constructor(private fb: FormBuilder, private rs: RequirementService, private router: Router, private route: ActivatedRoute, private ts: TrainerService) {
    this.requirementForm = this.fb.group({
      title: ['', Validators.required],
      description: ['', Validators.required],
      department: ['', Validators.required],
      status: ['', Validators.required],
      duration: ['', Validators.required],
      mode: ['', Validators.required],
      location: ['', Validators.required],
      skillLevel: ['', Validators.required],
      budget: [0, Validators.required],
      priority: ['', Validators.required]
    });
  }
  ngOnInit(): void {
    this.route.params.subscribe((params) => {
      if (params['id'] && !isNaN(+params['id'])) {
        this.reqId = +params['id'];
        this.isEditing = true;

        this.rs.getRequirementById(this.reqId).subscribe({
          next: (data) => {
            this.requirementForm.patchValue(data);
          },
          error: (err) => {
            console.error('Error fetching requirement:', err);
          }
        });
      } else {
        console.warn('Invalid or missing requirement ID');
      }
    });
  }



  addRequirement() {

    this.requirement = this.requirementForm.value;

    this.requirement.postedDate = new Date();

    if (this.requirementForm.invalid) {

      alert("Please fill all form details correctly");

      return;

    }

    if (this.requirementForm.valid && !this.isEditing) {

      this.rs.addRequirement(this.requirement).subscribe(() => {

        this.showAddPopup = true;

        this.requirementForm.reset();

      });

    } else {

      this.rs.updateRequirement(this.reqId, this.requirement).subscribe(() => {

        this.showUpdatePopup = true;

      });

    }

  }

  confirmAdd() {

    this.showAddPopup = false;
  }


  confirmUpdate() {
    this.showUpdatePopup = false;
  }

  goBack() {
    this.router.navigate(['/managerviewrequirements']);
  }
  get f() {
    return this.requirementForm.controls;
  }


}

<div class="requirement-form-container">
    <h1>{{ isEditing ? 'Update Requirement' : 'Create New Requirement' }}</h1>
     
   <form [formGroup]="requirementForm" (ngSubmit)="addRequirement()">
       <div>
           <label for="title">Title: </label>
           <input type="text" formControlName="title" id="title">
           <div *ngIf=" (f.title.touched || f.title.dirty)">
               <div *ngIf="f.title.errors?.required" class="error">Title is required</div>
           </div>
       </div>
   
       <div>
           <label for="description">Description: </label>
           <textarea formControlName="description" id="description" cols="30" rows="10"></textarea>
           <div *ngIf="(f.description.touched || f.description.dirty)">
               <div *ngIf="f.description.errors?.required" class="error">Description is required</div>
           </div>
       </div>
       <div>
           <label for="department">Department: </label>
           <input type="text" formControlName="department" id="department">
           <div *ngIf="(f.department.touched || f.department.dirty)">
               <div *ngIf="f.department.errors?.required" class="error">Department is required</div>
           </div>
       </div>
   
       <div>
           <label for="status">Status: </label>
           <select formControlName="status" id="status">
               <option selected value="" disabled>Select status</option>
               <option value="Closed">Closed</option>
               <option value="Open">Open</option>
               <option value="inProgree">InProgress</option>
           </select>
           <div *ngIf="(f.status.touched || f.status.dirty)">
               <div *ngIf="f.status.errors?.required" class="error">status is required</div>
           </div>
       </div>
   
   
       <div>
           <label for="duration">Duration: </label>
           <input type="text" formControlName="duration" id="duration">
           <div *ngIf="(f.duration.touched || f.duration.dirty)">
               <div *ngIf="f.duration.errors?.required" class="error">Duration is required</div>
           </div>
       </div>
   
       <div>
           <label for="mode">Mode: </label>
           <select formControlName="mode" id="mode">
               <option selected value="" disabled>Select Mode</option>
               <option value="Online">Online</option>
               <option value="Offline">Offline</option>
           </select>
           <div *ngIf="(f.mode.touched || f.mode.dirty)">
               <div *ngIf="f.mode.errors?.required" class="error">Mode is required</div>
           </div>
       </div>
   
       <div>
           <label for="location">Location: </label>
           <input type="text" formControlName="location" id="location">
           <div *ngIf=" (f.location.touched || f.location.dirty)">
               <div *ngIf="f.location.errors?.required" class="error">Location is required</div>
           </div>
       </div>
   
       <div>
           <label for="skillLevel">Skill Level: </label>
           <select formControlName="skillLevel" id="skillLevel">
               <option selected value="skillLevel" disabled>Select Skill Level</option>
               <option value="Beginner">Beginner</option>
               <option value="Advanced">Advanced</option>
           </select>
           <div *ngIf="(f.skillLevel.touched || f.skillLevel.dirty)">
               <div *ngIf="f.skillLevel.errors?.required" class="error">SkillLevel is required</div>
           </div>
       </div>
   
       <div>
           <label for="budget">Budget: </label>
           <input type="number" formControlName="budget" id="budget">
           <div *ngIf=" (f.budget.touched || f.budget.dirty)">
               <div *ngIf="f.budget.errors?.required" class="error">Budget is required</div>
           </div>
       </div>
   
   
       <div>
           <label for="priority">Priority: </label>
           <select formControlName="priority" id="priority">
               <option selected value="priority" disabled>Priority</option>
               <option value="low"> Low</option>
               <option value="medium">Medium</option>
               <option value="high">High</option>
           </select>
           <div *ngIf=" (f.priority.touched || f.priority.dirty)">
               <div *ngIf="f.priority.errors?.required" class="error">Priority is required</div>
           </div>
       </div>
       <div class="button-group">
           <button type="submit" class="btn btn-primary">
             {{ isEditing ? 'Update Requirement' : 'Add Requirement' }}
           </button>
     
         <button type="button" class="btn btn-secondary" *ngIf="isEditing" (click)="goBack()">
             Back</button>
         </div>
       </form>
       <div class="popup-overlay" *ngIf="showAddPopup">
        <div class="popup-box">
        <h3>Success</h3>
        <p>Requirement Added Successfully!</p>
        <div class="popup-actions">
        <button class="confirm-btn" (click)="confirmAdd()">Ok</button>
        </div>
        </div>
        </div>
        <!-- Update Requirement Confirmation Popup -->
        <div class="popup-overlay" *ngIf="showUpdatePopup">
        <div class="popup-box">
        <h3>Success</h3>
        <p>Requirement Updated Successfully!</p>
        <div class="popup-actions">
        <button class="confirm-btn" (click)="confirmUpdate()">Ok</button>
        </div>
        </div>
        </div>
        
        
.requirement-form-container {

  max-width: 500px;       

  margin: 40px auto;    

  padding: 25px 30px;

  background: #fff;

  border-radius: 12px;

  box-shadow: 0 4px 12px rgba(0,0,0,0.15);

}
 
/* Heading */

.requirement-form-container h1 {

  text-align: center;

  margin-bottom: 25px;

  font-size: 22px;

  font-weight: 600;

  color: #007bff;

}
 
/* Labels */

.requirement-form-container label {

  display: block;

  margin-bottom: 6px;

  font-weight: 500;

  color: #444;

}
 
/* Inputs, Selects, Textareas */

.requirement-form-container input,

.requirement-form-container textarea,

.requirement-form-container select {

  width: 100%;

  padding: 10px 8px;

  margin-bottom: 15px;

  border: 1px solid #ccc;

  border-radius: 8px;

  font-size: 14px;

  transition: border 0.2s;

}
 
.requirement-form-container input:focus,

.requirement-form-container textarea:focus,

.requirement-form-container select:focus {

  border-color: #007bff;

  outline: none;

}
 
/* Error Messages */

.requirement-form-container .error {

  font-size: 13px;

  color: red;

  margin-top: -8px;

  margin-bottom: 10px;

}
 
/* Button Group */

.button-group {

  display: flex;

  justify-content: center;

  gap: 12px;

  margin-top: 20px;

}
 
/* Buttons */

.btn {

  padding: 10px 20px;

  border-radius: 8px;

  font-size: 14px;

  cursor: pointer;

  border: none;

  transition: background 0.3s;

}
 
.btn-primary {

  background: #007bff;

  color: #fff;

}
 
.btn-primary:hover {

  background: #3471b2;

}
 
.btn-secondary {

  background: #ccc;

  color: #333;

}
 
.btn-secondary:hover {

  background: #aaa;

}
 
/* -------------------- POPUP STYLES -------------------- */

.popup-overlay {

  position: fixed;

  top: 0;

  left: 0;

  width: 100%;

  height: 100%;

  background: rgba(0,0,0,0.6);

  display: flex;

  justify-content: center;

  align-items: center;

  z-index: 1000;

}
 
.popup-box {

  background: #fff;

  padding: 25px 30px;

  border-radius: 12px;

  width: 350px;

  text-align: center;

  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);

  animation: popupFadeIn 0.3s ease-in-out;

}
 
.popup-box h3 {

  margin-bottom: 10px;

  font-size: 20px;

  font-weight: 600;

  color: #007bff;

}
 
.popup-box p {

  margin-bottom: 20px;

  font-size: 15px;

  color: #444;

}
 
.popup-actions {

  display: flex;

  justify-content: center;

}
 
.confirm-btn {

  background: #007bff;

  color: #fff;

  border: none;

  padding: 10px 22px;

  border-radius: 8px;

  font-size: 15px;

  font-weight: 500;

  cursor: pointer;

  transition: background 0.3s ease;

}
 
.confirm-btn:hover {

  background: #3471b2;

}
 
@keyframes popupFadeIn {

  from { opacity: 0; transform: scale(0.9); }

  to   { opacity: 1; transform: scale(1); }

}   

---------------------------------------------------
ManagerViewRequirementsComponent

import { Component, OnInit } from '@angular/core';
import { Router } from '@angular/router';
import { Requirement } from 'src/app/models/requirement.model';
import { Trainer } from 'src/app/models/trainer.model';
import { RequirementService } from 'src/app/services/requirement.service';
import { TrainerService } from 'src/app/services/trainer.service';

@Component({
  selector: 'app-manager-view-requirements',
  templateUrl: './manager-view-requirements.component.html',
  styleUrls: ['./manager-view-requirements.component.css']
})
export class ManagerViewRequirementsComponent implements OnInit {

  requirements: Requirement[] = [];
  origrequirements: Requirement[] = [];
  searchText: string = '';
  trainers: Trainer[] = [];
  showTrainerList: boolean = false;
  reqId: number = 0;
  deleteId: number | null = null;
  showDeletePopup: boolean = false;

  constructor(
    private rs: RequirementService,
    private router: Router,
    private ts: TrainerService
  ) { }
  ngOnInit(): void {
    this.ts.getAllTrainers().subscribe((trainerData) => {
      this.trainers = trainerData;

     
      this.rs.getAllRequirements().subscribe((reqData) => {
        this.requirements = reqData;
        this.origrequirements = reqData;
        console.log('Requirements:', this.requirements);
      });
    });
  }

  searchByName(): void {
    this.requirements = this.origrequirements.filter((req) =>
      req.title.toLowerCase().includes(this.searchText.toLowerCase())
    );
  }

  filterByStatus(option: string): void {
    if (option === 'all') {
      this.requirements = [...this.origrequirements];
    } else {
      this.requirements = this.origrequirements.filter((req) =>
        req.status.toLowerCase() === option.toLowerCase()
      );
    }
  }

  loadRequirements(): void {
    this.rs.getAllRequirements().subscribe((data) => {
      this.requirements = data;
      this.origrequirements = data;
    });
  }

  viewFun(id: number): void {
    this.router.navigate(['/managerrequirement', id]);
  }

  getTrainerName(trainerId?: number): string {
    if (!trainerId || !this.trainers?.length) return 'Not Assigned';
    const trainer = this.trainers.find(t => t.trainerId === trainerId);
    return trainer ? trainer.name : 'Not Assigned';
  }

  selectTrainer(trainerId: number, reqId: number) {
    console.log('in select');

    if (trainerId) {
      this.router.navigate(['/trainerdetails', trainerId, reqId]);
    } else {
      alert('Trainer not assigned.');
    }


 
  }

 
openDeletePopup(rid: number): void {

  this.deleteId = rid;

  this.showDeletePopup = true;

}
 
confirmDelete(): void {

  if (this.deleteId !== null) {

    this.rs.deleteRequirement(this.deleteId).subscribe(() => {

      this.loadRequirements();

      this.cancelDelete(); 

    });

  }

}
 
cancelDelete(): void {

  this.showDeletePopup = false;

  this.deleteId = null;

}
}



<div class="requirements-container">
  <h1 class="page-title">Requirements</h1>

  <div class="filter-section">
    <label for="searchText">Search by:</label>
    <input type="text" id="searchText" [(ngModel)]="searchText" (input)="searchByName()" placeholder="Requirement Title" class="search-input" />

    <label for="statusFilter">Filter by Status:</label>
    <select id="statusFilter" (change)="filterByStatus(statusFilter.value)" #statusFilter class="status-select">
      <option value="all" selected>All Status</option>
      <option value="Open">Open</option>
      <option value="Closed">Closed</option>
      <option value="inProgress">InProgress</option>
    </select>
  </div>

  <table *ngIf="requirements?.length" class="requirements-table">
    <thead>
      <tr>
        <th>S.NO</th>
        <th>Title</th>
        <th>Department</th>
        <th>Duration</th>
        <th>Mode</th>
        <th>Status</th>
        <th>Trainer Assigned</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let r of requirements; index as i">
        <td>{{ i + 1 }}</td>
        <td>{{ r.title }}</td>
        <td>{{ r.department }}</td>
        <td>{{ r.duration }}</td>
        <td>{{ r.mode }}</td>
        <td>{{ r.status }}</td>
        <td>{{ r.trainer?.name || 'Not Assigned' }}</td>
        <td>
          <button class="action-btn edit-btn" (click)="viewFun(r.requirementId)">Edit</button>
          <button class="action-btn delete-btn" (click)="openDeletePopup(r.requirementId)">Delete</button> 
          <button class="action-btn view-btn"  *ngIf="r.trainer?.trainerId != null"  (click)="selectTrainer(r.trainer?.trainerId, r.requirementId)">View Trainer</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="!requirements?.length" class="no-record">
    <p>Oops! No Record Found</p>
  </div>
</div>


<!-- Delete Confirmation Popup -->
<div class="popup-overlay" *ngIf="showDeletePopup">
<div class="popup-box">
<h3>Confirm Delete</h3>
<p>Are you sure you want to delete this requirement?</p>
<div class="popup-actions">
<button class="confirm-btn" (click)="confirmDelete()">Yes, Delete</button>
<button class="cancel-btn" (click)="cancelDelete()">Cancel</button>
</div>
</div>
</div>



.requirements-container {

  max-width: 1100px;

  margin: 30px auto;

  padding: 20px;

  background: #ffffff;

  border-radius: 12px;

  box-shadow: 0 4px 10px rgba(0,0,0,0.1);

}
 
.page-title {

  text-align: center;

  font-size: 26px;

  font-weight: bold;

  margin-bottom: 20px;

  color: #333;

}
 
 
.filter-section {

  display: flex;

  align-items: center;

  justify-content: flex-start;

  gap: 15px;

  margin-bottom: 20px;

  flex-wrap: wrap;

}
 
.filter-section label {

  font-weight: 500;

  margin-right: 6px;

}
 
.search-input, 

.status-select {

  padding: 8px 12px;

  border: 1px solid #ddd;

  border-radius: 6px;

  outline: none;

  font-size: 14px;

}
 
.search-input:focus, 

.status-select:focus {

  border-color: #007bff;

  box-shadow: 0 0 5px rgba(0,123,255,0.4);

}
 
 
.requirements-table {

  width: 100%;

  border-collapse: collapse;

  background: #fff;

  border-radius: 8px;

  overflow: hidden;

}
 
.requirements-table th, 

.requirements-table td {

  padding: 12px 15px;

  text-align: center;

  border-bottom: 1px solid #eee;

  font-size: 14px;

}
 
.requirements-table th {

  background: #007bff;

  color: #fff;

  text-transform: uppercase;

  letter-spacing: 0.5px;

  font-size: 13px;

}
 
.requirements-table tr:hover {

  background: #f9f9f9;

}
 
.action-btn {

  padding: 6px 12px;

  font-size: 13px;

  border-radius: 13px;

  border: none;

  cursor: pointer;

  margin: 0 3px;

  transition: all 0.2s ease;

}


 
.edit-btn {

  background: #51c37a;

  color: #fff;

}
 
.edit-btn:hover {

  background: #4ba86d;

}
 
.delete-btn {

  background: #dc3545;

  color: #fff;

}
 
.delete-btn:hover {

  background: #b02a37;

}
 
.view-btn {

  background: #007bff;

  color: #fff;

}
 
.view-btn:hover {

  background: #668db6;

}
 
.no-record {

  text-align: center;

  margin-top: 30px;

  font-size: 16px;

  font-weight: bold;

  color: #777;

}
 
.popup-overlay {

  position: fixed;

  top: 0;

  left: 0;

  width: 100%;

  height: 100%;

  background: rgba(0,0,0,0.6);

  display: flex;

  align-items: center;

  justify-content: center;

  z-index: 1000;

}
 
.popup-box {

  background: #fff;

  padding: 25px 30px;

  border-radius: 12px;

  width: 350px;

  text-align: center;

  box-shadow: 0 4px 10px rgba(0,0,0,0.25);

  animation: popup-fade 0.3s ease;

}
 
.popup-box h3 {

  margin-bottom: 10px;

  font-size: 20px;

  color: #333;

}
 
.popup-box p {

  font-size: 15px;

  color: #555;

  margin-bottom: 20px;

}
 
.popup-actions {

  display: flex;

  justify-content: space-evenly;

  gap: 10px;

}
 
.confirm-btn {

  background: #dc3545;

  color: white;

  padding: 8px 16px;

  border-radius: 6px;

  border: none;

  cursor: pointer;

  transition: background 0.2s ease;

}
 
.confirm-btn:hover {

  background: #b02a37;

}
 
.cancel-btn {

  background: #6c757d;

  color: white;

  padding: 8px 16px;

  border-radius: 6px;

  border: none;

  cursor: pointer;

  transition: background 0.2s ease;

}
 
.cancel-btn:hover {

  background: #565e64;

}
 
@keyframes popup-fade {

  from { opacity: 0; transform: scale(0.9); }

  to { opacity: 1; transform: scale(1); }

}

 --------------------------------------------
ManagernavComponent

import { Component, OnInit } from '@angular/core';
import { Router } from '@angular/router';
import { AuthService } from 'src/app/services/auth.service';

@Component({
  selector: 'app-managernav',
  templateUrl: './managernav.component.html',
  styleUrls: ['./managernav.component.css']
})
export class ManagernavComponent implements OnInit {

  showLogoutPopup = false;
  isLoggedin = false;
  role: string | null = null;
  username: string | null = null;

  constructor(private auth: AuthService, private router: Router) { }

  ngOnInit(): void {
    this.loadUser();
  }

  loadUser() {
    this.isLoggedin = this.auth.isUserLoggedIn();
    this.role = this.auth.getRole();
    this.username = this.auth.getAuthenticatedUser();
  }
  confirmLogout() {
    this.showLogoutPopup = true;
  }
  cancelLogout() {
    this.showLogoutPopup = false;
  }
  logout() {
    this.auth.logout();
    this.isLoggedin = false;
    this.role = null;
    this.username = null;
    this.showLogoutPopup = false;
    this.router.navigate(['/login']).then(()=>{window.location.reload()});
  }

  isManager(){
    return this.role==='Manager';
  }
 

}

<nav class="navbar">
  <div class="user-info">
    <span id="username">{{ username }}</span> | 
    <span id="role">{{ role }}</span>
    
  </div>
  <ul class="nav-list">
    <li><a routerLink="/home">Home</a></li>

    <li class="dropdown">
      <a>Manager</a>
      <ul class="dropdown-menu">
        <li><a routerLink="/managerrequirement">Add Requirement</a></li>
        <li><a routerLink="/managerviewrequirements">View Requirements</a></li>
        <li><a routerLink="/dashboard">Dashboard</a></li>
      </ul>
    </li>

    <li><a routerLink="/select-trainers">Selected Trainers</a></li>
    <li><a routerLink="/viewFeedback">Feedback</a></li>
    <li><a  class="logout-btn" (click)="logout()"> Logout</a></li>

  </ul>
</nav>



/* General navbar styling */
.navbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: linear-gradient(to right, #384c62, #8b4513);
  padding: 20px 20px;
  font-family: Arial, sans-serif;
  position: relative;
  z-index: 10; /*  ensure nav always above */
}
/* User info container */
.user-info {
  display: flex;
  align-items: center;
  gap: 10px;
  color: white;
  font-size: 16px;
  font-weight: 500;
}

/* Username and role styling */
#username, #role {
  padding: 4px 8px;
  background-color: rgba(255, 255, 255, 0.1);
  border-radius: 4px;
}

/* Optional: Add icons or differentiate role */
#role {
  font-style: italic;
  color: #ffd700; /* gold tone for role */
}
/* Logo */
.navbar::before {
  content: "TrainerHub";
  color: white;
  font-size: 20px;
  font-weight: bold;
  margin-right: 20px;
}

/* Navigation list */
.nav-list {
  list-style: none;
  display: flex;
  gap: 20px;
  margin: 0;
  padding: 0;
  flex-wrap: wrap; /*  ensures dropdown doesn't hide */
}

/* Navigation links */
.nav-list li a {
  color: white;
  text-decoration: none;
  padding: 8px 12px;
  border-radius: 4px;
  transition: background 0.3s;
}

.nav-list li a:hover {
  background-color: rgba(255, 255, 255, 0.2);
}

/* Dropdown menu */
.dropdown {
  position: relative;
}

.dropdown-menu {
  list-style: none;
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  background-color: #444;
  border-radius: 4px;
  padding: 10px 0;
  min-width: 160px;
  z-index: 2000; /*  ensures menu is on top */
}

.dropdown:hover .dropdown-menu {
  display: block;
}

.dropdown-menu li a {
  display: block;
  padding: 8px 16px;
  color: white;
  text-decoration: none;
}

.dropdown-menu li a:hover {
  background-color: #666;
}

/* Logout button */
.nav-list li a.logout-btn {
  background-color: red;
  color: white;
  border-radius: 4px;
  padding: 8px 12px;
}


------------------------------------------------------------------
ManagerpostfeedbackComponent

import { Component, OnInit } from '@angular/core';
import { FormBuilder, FormGroup, Validators } from '@angular/forms';
import { ActivatedRoute } from '@angular/router';
import { Feedback } from 'src/app/models/feedback.model';
import { AuthService } from 'src/app/services/auth.service';
import { FeedbackService } from 'src/app/services/feedback.service';


@Component({
  selector: 'app-managerpostfeedback',
  templateUrl: './managerpostfeedback.component.html',
  styleUrls: ['./managerpostfeedback.component.css']
})
export class ManagerpostfeedbackComponent implements OnInit {
 
  feedbackForm: FormGroup;
  submitted = false;
  feedback:Feedback;
  loggedInManagerId:number;
  trainerId:number;
  showAddPopup:boolean=false;
  constructor(private fb: FormBuilder,private feedbackService:FeedbackService,private route: ActivatedRoute,private au:AuthService) {
 
  }
  ngOnInit(): void {    
    this.loggedInManagerId= this.au.getUserId();
   this.trainerId = Number(this.route.snapshot.params['id']);
   console.log(this.trainerId);
    this.feedbackForm = this.fb.group({
      category: ['', Validators.required],
      feedbackText: ['', Validators.required]
    });
 
  }
 
  get f() {
    return this.feedbackForm.controls;
  }
 
  addFeedback() {
    this.submitted = true;
    if (this.feedbackForm.invalid) {
      console.log(":Invalid")
      return;
    }
   
    this.feedback={
      ...this.feedbackForm.value,
      userId:this.loggedInManagerId,
      trainerId:this.trainerId,
      date:new Date(),
      feedbackId:Date.now()  
    };
    console.log(this.feedback);
    this.feedbackService.sendFeedback(this.loggedInManagerId,this.trainerId,this.feedback).subscribe((data)=>{      
      this.feedback=data;
      this.feedbackForm.reset();
      this.submitted=false;
      Object.keys(this.feedbackForm.controls).forEach((key)=>{
        console.log(key);
        this.feedbackForm.get(key)?.setErrors(null);
      });
      this.showAddPopup=true;
    });
   
  }
  confirmAdd() {
    this.showAddPopup = false;
  }
}
 
 
<h1>Add Feedback</h1>
<form [formGroup]="feedbackForm" (ngSubmit)="addFeedback()">
<div>
<label for="feedbackText">Feedback*</label><br>
<textarea

      name="feedbackText"

      id="feedbackText"

      formControlName="feedbackText"

      cols="30"

      rows="10"
></textarea>
<div *ngIf="f.feedbackText.touched || f.feedbackText.dirty || submitted">
<div *ngIf="f.feedbackText.errors?.required">Feedback is required</div>
</div>
</div>
 
  <div>
<label for="category">Category*</label><br>
<select name="category" id="category" formControlName="category">
<option value="">-- Select Category --</option>
<option value="clarity">Clarity of Explanation</option>
<option value="language">Language Proficiency</option>
<option value="pace">Pace of Delivery</option>
<option value="others">Others</option>
</select>
<div *ngIf="f.category.touched || f.category.dirty || submitted">
<div *ngIf="f.category.errors?.required">Category is required</div>
</div>
</div>
 
  <button type="submit">Submit</button>
</form>


<div class="popup-overlay" *ngIf="showAddPopup">
  <div class="popup-box">
    <h3>Success</h3>
    <p>Feedback Added Successfully!</p>
    <div class="popup-actions">
      <button class="confirm-btn" (click)="confirmAdd()">Ok</button>
    </div>
  </div>
</div>


h1 {
    text-align: center;
    margin: 20px 0;
    color: #004080;
    border-bottom: 2px solid #004080;
    padding-bottom: 5px;
    font-size: 22px;
  }
  
  /* Form Container */
  form {
    width: 400px;
    margin: 30px auto;
    padding: 20px 25px;
    border: 1px solid #ccc;
    border-radius: 8px;
    background: #fdfdfd;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }
  
  /* Labels */
  label {
    font-weight: bold;
    color: #333;
    display: block;
    margin-bottom: 6px;
  }
  
  /* Textarea Styling */
  textarea {
    width: 100%;
    min-height: 120px;
    padding: 10px;
    border: 1px solid #aaa;
    border-radius: 6px;
    resize: vertical;
    font-size: 14px;
    font-family: inherit;
    outline: none;
  }
  
  textarea:focus {
    border-color: #1c5da3;
    box-shadow: 0 0 5px rgba(28, 93, 163, 0.4);
  }
  
  /* Select Dropdown */
  select {
    width: 100%;
    padding: 8px 10px;
    border: 1px solid #aaa;
    border-radius: 6px;
    font-size: 14px;
    outline: none;
  }
  
  select:focus {
    border-color: #1c5da3;
    box-shadow: 0 0 5px rgba(28, 93, 163, 0.4);
  }
  
  /* Error Messages */
  div div {
    font-size: 12px;
    color: #d9534f;
    /* Bootstrap red */
    margin-top: 4px;
  }
  
  /* Submit Button */
  button {
    width: 100%;
    padding: 10px;
    margin-top: 15px;
    border: none;
    border-radius: 6px;
    background-color: #007bff;
    /* Blue */
    color: white;
    font-size: 15px;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  
  button:hover {
    background-color: #0056b3;
  }
  
  .popup-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
  }
  
  .popup-box {
    background: #fff;
    padding: 25px 30px;
    border-radius: 12px;
    width: 350px;
    text-align: center;
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
    animation: popupFadeIn 0.3s ease-in-out;
  }
  
  .popup-box h3 {
    margin-bottom: 10px;
    font-size: 20px;
    font-weight: 600;
    color: #2e7d32;
  }
  
  .popup-box p {
    margin-bottom: 20px;
    font-size: 15px;
    color: #444;
  }
  
  .popup-actions {
    display: flex;
    justify-content: center;
  }
  
  .confirm-btn {
    background: #2e7d32;
    color: #fff;
    border: none;
    padding: 10px 22px;
    border-radius: 8px;
    font-size: 15px;
    font-weight: 500;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  
  .confirm-btn:hover {
    background: #1b5e20;
  }
  
  @keyframes popupFadeIn {
    from {
      opacity: 0;
      transform: scale(0.9);
    }
  
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
  
--------------------------------------------------------

ManagerviewfeedbackComponent

import { Component, OnInit } from '@angular/core';
import { Router } from '@angular/router';
import { Feedback } from 'src/app/models/feedback.model';
import { Trainer } from 'src/app/models/trainer.model';
import { FeedbackService } from 'src/app/services/feedback.service';
import { TrainerService } from 'src/app/services/trainer.service';

@Component({
  selector: 'app-managerviewfeedback',
  templateUrl: './managerviewfeedback.component.html',
  styleUrls: ['./managerviewfeedback.component.css']
})
export class ManagerviewfeedbackComponent implements OnInit {
  feedbacks: Feedback[] = [];
  trainer: Trainer = {
    name: "",
    email: "",
    phone: "",
    expertise: "",
    experience: "",
    certification: "",
    resume: "",
    joiningDate: new Date(),
    status: ""
  };
  deleteId: number | null = null;
  showDeletePopup: boolean = false;
  showModal: boolean = false;
  constructor(private feedbackService: FeedbackService, private router: Router, private trainerService: TrainerService) { }
  getAllFeedback() {
    this.feedbackService.getFeedbacks().subscribe((data) => {
      this.feedbacks = data;
    })
  }
  ngOnInit(): void {
    this.getAllFeedback();
  }

  selectedtrainer(trainerId: number) {
    this.showModal = true;
    console.log(trainerId);
    this.trainerService.getTrainerById(trainerId).subscribe((data) => {
      this.trainer = data;
    })
    console.log(this.trainer);
  }



  openDeletePopup(rid: number): void {
    this.deleteId = rid;
    this.showDeletePopup = true;
  }

  confirmDelete(): void {
    if (this.deleteId !== null) {
      this.feedbackService.deleteFeedback(this.deleteId).subscribe(() => {
        this.ngOnInit();
        console.log("Deleted:");
        this.cancelDelete();
      });
    }
  }

  cancelDelete(): void {
    this.showDeletePopup = false;
    this.deleteId = null;
  }

}


<h1>My Feedback</h1>
<table border="2">
<thead>
<th>S.No.</th>
<th>Feedback</th>
<th>Actions</th>
</thead>
<tbody>
<tr *ngFor="let fb of feedbacks;index as i">
<td>{{i+1}}</td>
<td>{{fb.feedbackText}}</td>
<td>
<button (click)="selectedtrainer(fb.trainer?.trainerId) " class="view" >View Trainer Info</button>
<button (click)="openDeletePopup(fb.feedbackId)" class="del">Delete</button>
</td>
</tr>
</tbody>
</table>
<p *ngIf="feedbacks.length == 0">No Data found!</p>


<!-- Modal -->
<div class="modal-backdrop" *ngIf="showModal">
  <div class="modal-content">
    <span class="close-button" (click)="showModal = false">&times;</span>
    <h3>Trainer Details</h3> 
    <p><strong>Name:</strong> {{trainer.name}}</p>
    <p><strong>Email:</strong> {{trainer.email}}</p>
    <p><strong>Expertise:</strong> {{trainer.expertise}}</p>
  </div>
</div>
<div class="popup-overlay" *ngIf="showDeletePopup">
    <div class="popup-box" >
        <h3>Confirm Delete</h3>
        <p>Are you sure you want to delete this requirement?</p>
        <div class="popup-actions">
          <button class="confirm-btn" (click)="confirmDelete()">Yes, Delete</button>
          <button class="cancel-btn" (click)="cancelDelete()">Cancel</button>
        </div>
    </div>
</div>


h1 {
    text-align: center;
    margin: 20px 0;
    color: #000000;
    border-bottom: 4px solid #2980d6;
    padding-bottom: 5px;
  }
  
  /* Table Styling */
  table {
    width: 80%;
    margin: 0 auto;
    border-collapse: collapse;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }
  
  thead {
    background-color: #007bff; /* dark blue header */
    color: white;
    text-align: center;
  }
  
  th, td {
    padding: 10px 15px;
    text-align: center;
    border: 1px solid #ccc;
  }
  
  tbody tr:nth-child(even) {
    background-color: #f2f7fb; /* light blue */
  }
  
  tbody tr:hover {
    background-color: #e6f0fa; /* hover effect */
  }
  
  /* Buttons */
  button {
    padding: 8px 12px;
    margin: 2px;
    border: none;
    border-radius: 14px;
    cursor: pointer;
    font-size: 14px;
  }
  
  button:hover {
    opacity: 0.9;
  }
  
  button.view {
    background-color: #28a745; /* green for View Trainer */
    color: white;
  }
  
  button.del {
    background-color: #007bff; /* blue for Delete */
    color: white;
  }
  
  /* No Data message */
  p {
    text-align: center;
    margin-top: 20px;
    color: #666;
  }
  
  .popup-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
  .popup-box {
      background: #fff;
      padding: 25px 30px;
      border-radius: 12px;
      width: 350px;
      text-align: center;
      box-shadow: 0 4px 10px rgba(0,0,0,0.25);
      animation: popup-fade 0.3s ease;
    }
     
    .popup-box h3 {
      margin-bottom: 10px;
      font-size: 20px;
      color: #333;
    }
     
    .popup-box p {
      font-size: 15px;
      color: #555;
      margin-bottom: 20px;
    }
     
    .popup-actions {
      display: flex;
      justify-content: space-evenly;
      gap: 10px;
    }
     
    .confirm-btn {
      background: #dc3545;
      color: white;
      padding: 8px 16px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      transition: background 0.2s ease;
    }
     
    .confirm-btn:hover {
      background: #b02a37;
    }
     
    .cancel-btn {
      background: #27c43a;
      color: white;
      padding: 8px 16px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      transition: background 0.2s ease;
    }
     
    .cancel-btn:hover {
      background: #158622;
    }
     
    @keyframes popup-fade {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }
    .modal-backdrop {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5); /* semi-transparent background */
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    
    .modal-content {
      background-color: #fff;
      padding: 20px 30px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      width: 300px;
      max-width: 90%;
      text-align: left;
      position: relative;
    }
    
    .close-button {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 24px;
      cursor: pointer;
      color: #888;
    }
    
    .close-button:hover {
      color: #000;
    }

    h3 {
      text-align: center;
    }
  
  
  
  
 -----------------------------------------------------------
SelectedTrainersComponent


import { Component, OnInit } from '@angular/core';
import { ActivatedRoute, Router } from '@angular/router';
import { Requirement } from 'src/app/models/requirement.model';
import { Trainer } from 'src/app/models/trainer.model';
import { RequirementService } from 'src/app/services/requirement.service';
import { TrainerService } from 'src/app/services/trainer.service';

@Component({
  selector: 'app-selected-trainers',
  templateUrl: './selected-trainers.component.html',
  styleUrls: ['./selected-trainers.component.css']
})
export class SelectedTrainersComponent implements OnInit {

  requirements : Requirement[] = [];
  selectedTrainers : Trainer[] = [];
  trainer : Trainer;
 
  constructor(private requirementService : RequirementService, private trainerService : TrainerService, private router : Router) { }
 
  ngOnInit(): void {
    this.loadRequirements();
    
  }
 
  loadRequirements() {
    this.requirementService.getAllRequirements().subscribe((data)=> {
      this.requirements = data;
      console.log(this.requirements);
      this.loadSelectedTrainers();
    })
  }
 
  loadSelectedTrainers() {
    this.requirements = this.requirements.filter((r)=> r.trainer);
    console.log("Length " + this.requirements.length);
   
    for (let r  of this.requirements){
      this.trainerService.getTrainerById(r.trainer.trainerId).subscribe((data)=> {
        this.trainer = data;
        this.selectedTrainers.push(this.trainer);
      })
    console.log(this.selectedTrainers);
    }
   
  }
 
  writeReview(tranerId : number) {
  this.router.navigate(['/feedback', tranerId]);
  }
 

 

}

<h2>Selected Trainers</h2>
<hr>

<div *ngIf="requirements.length == 0" class="no-record">
  <p>Oops! No record found!</p>
</div>

<div class="trainer-grid">
  <div *ngFor="let r of requirements" class="trainer-card">
    <h3>{{r.trainer.name}} </h3> 
    <p>Email: {{r.trainer.email}}</p>
    <p>Phone: {{r.trainer.phone}}</p>
    <p>Expertise: {{r.trainer.expertise}}</p>
    <p>Experience : {{r.trainer.experience}}</p>
    <p>Certification : {{r.trainer.certification}}</p>
    <p>Requirement Title : {{r.title}}</p>
    <p>Status: {{r.status}}</p>
    <button *ngIf="r.trainer?.trainerId" (click)="writeReview(r.trainer?.trainerId)">
      Write a Review
    </button>
  </div>
</div>

:host {
    display: block;
    padding: 20px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }
  
  h2 {
    text-align: center;
    color: #2c3e50;
    margin-bottom: 10px;
  }

  h3{
    text-align: center;
    color: #007bff;
    margin-bottom: 10px;
  }
  
  hr {
    margin-bottom: 20px;
    border: none;
    border-top: 2px solid #ccc;
  }
  
  .no-record {
    text-align: center;
    color: #888;
    font-size: 16px;
    margin-top: 20px;
  }
  
  /* Flex container for cards */
  .trainer-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: center;
  }
  
  /* Individual card */
  .trainer-card {
    background-color: #ffffff;
    border: 1px solid #e0e0e0;
    border-radius: 10px;
    padding: 15px;
    width: 250px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }
  
  .trainer-card p {
    margin: 6px 0;
    font-size: 14px;
    color: #333;
  }
  
  .trainer-card button {
    margin-top: 10px;
    padding: 8px 14px;
    background-color: #3faa51;
    color: #fff;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  
  .trainer-card button:hover {
    background-color: #358943;
  }
  

--------------------------------------------------

SignupComponent



import { Component, OnInit } from '@angular/core';
import { FormBuilder, FormGroup, Validators } from '@angular/forms';
import { ActivatedRoute, Router } from '@angular/router';
import { User } from 'src/app/models/user.model';
import { AuthService } from 'src/app/services/auth.service';

@Component({
  selector: 'app-signup',
  templateUrl: './signup.component.html',
  styleUrls: ['./signup.component.css']
})
export class SignupComponent implements OnInit {
  signUp: FormGroup;
  errorMessage: string = '';
  pass: boolean = true;

  isOtpSent = false;
  isOtpVerified = false;
  verificationData: any = {};

  constructor(private fb: FormBuilder, private authService: AuthService, private route: Router) { }
  user: User;
  ngOnInit(): void {
    this.signUp = this.fb.group({
      username: ['', Validators.required],
      email: ['', [Validators.required, Validators.pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)]],
      otp: [, [Validators.required]],
      mobileNumber: ['', [Validators.required, Validators.pattern(/^\d{10}$/)]],
      password: ['', [Validators.required, Validators.pattern(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/)]],
      confirmPassword: ['', Validators.required],
      userRole: ['', [Validators.required]]

    });
  }
  onSignup() {
    if (this.signUp.valid) {
      this.user = this.signUp.value;

      if (this.signUp.value.password != this.signUp.value.confirmPassword) {
        this.pass = false;
        this.errorMessage = "Password and confirm password do not match";
        return;

      }
      // this.authService.addUser(this.user).subscribe((data) => {
      //   this.route.navigate(['/login']);
      // })

      this.authService.addUser(this.user).subscribe({
        next: (data) => {
          this.route.navigate(['/login']);
        },
        error: (error) => {
          console.error('Signup error:', error);
          this.errorMessage = error.error || 'An unexpected error occurred';
        }
      });

    }

  }
  get f() {
    return this.signUp.controls;
  }


  sendOtp() {
    this.authService.sendOtp(this.signUp.value.email).subscribe(
      (data) => {
        console.log(data);
        this.verificationData = data;
        this.isOtpSent = true;
        console.log(this.isOtpVerified);
        alert('OTP sent to your email');
      },
      (error) => {
        console.error('Error sending OTP:', error);
        alert('Failed to send OTP');
      });

  }
  verifyOtp() {
    console.log(this.signUp.value.otp);

    if (this.verificationData.otp == this.signUp.value.otp) {
      this.isOtpVerified = true;
      alert('OTP verified');
    } else {
      alert('Invalid OTP');
    }
  }


}




<!-- <div>
    <form [formGroup]="signUp" (ngSubmit)="onSignup()">
        <div>
            <label for="username">username</label>
            <input type="text" name="username" id="username" formControlName="username">
            <div *ngIf="f.username.touched||f.username.dirty">
                <div *ngIf="f.username.errors?.required">Username is required</div>
            </div>
        </div>
        <div>
            <label for="email">Email</label>
            <input type="email" name="email" id="email" formControlName="email">
            <div *ngIf="f.email.touched||f.email.dirty">
                <div *ngIf="f.email.errors?.required">Email is required</div>
                <div *ngIf="f.email.errors?.pattern">Email pattern is required</div>
            </div>
        </div>
        <div>
            <label for="mobileNumber">MobileNumber</label>
            <input type="tel" name="mobileNumber" id="mobileNumber" formControlName="mobileNumber">
            <div *ngIf="f.mobileNumber.touched||f.mobileNumber.dirty">
                <div *ngIf="f.mobileNumber.errors?.required">Mobile Number is required</div>
                <div *ngIf="f.mobileNumber.errors?.pattern">Mobile Number must be 10 digits</div>
            </div>
        </div>
        <div>
            <label for="password">password</label>
            <input type="password" name="password" id="password" formControlName="password">
            <div *ngIf="f.password.touched||f.password.dirty">
                <div *ngIf="f.password.errors?.required">Password is required</div>
                <div *ngIf="f.password.errors?.pattern">Password Should contain </div>
            </div>
        </div>
        <div>
            <label for="confirmPassword">Confirm Password</label>
            <input type="password" name="confirmPassword" id="confirmPassword" formControlName="confirmPassword">
            <div *ngIf="f.confirmPassword.touched||f.confirmPassword.dirty">
                <div *ngIf="f.confirmPassword.errors?.required">Confirm password is required</div>
                <div *ngIf="!pass">
                    {{errorMessage}}
                </div>
            </div>
        </div>
        <div>
            <select name="userRole" id="userRole" formControlName="userRole">
                <option value="Manager">Manager</option>
                <option value="Coordinator">Coordinator</option>
            </select>
        </div>
        <div>
            <button type="submit">Sign Up</button>
        </div>

    </form>




</div> -->

<div class="login-page">
  <img src="assets/images/background.webp" alt="background" />

  <form [formGroup]="signUp" (ngSubmit)="onSignup()">
    <h2>Sign Up</h2>

    <div>
      <label for="username">Username</label>
      <input type="text" id="username" formControlName="username" />
      <div *ngIf="f.username.touched || f.username.dirty">
        <div *ngIf="f.username.errors?.required" class="error">Username is required</div>
      </div>
    </div>

    <div>
      <label for="email">Email</label>
      <input type="email" id="email" formControlName="email" />
      <div *ngIf="f.email.touched || f.email.dirty">
        <div *ngIf="f.email.errors?.required" class="error">Email is required</div>
        <div *ngIf="f.email.errors?.pattern" class="error">Email pattern is required</div>
      </div>
    </div>

    <button type="button" (click)="sendOtp()" [disabled]="!f.email">Send OTP</button>

    <div class="form-group" *ngIf="isOtpSent">
      <label for="otp">Enter OTP</label>
      <input type="text" id="otp" formControlName="otp" name="otp" required />
      <button type="button" (click)="verifyOtp()">Verify OTP</button>
    </div>

    <div>
      <label for="mobileNumber">Mobile Number</label>
      <input type="tel" id="mobileNumber" formControlName="mobileNumber" />
      <div *ngIf="f.mobileNumber.touched || f.mobileNumber.dirty">
        <div *ngIf="f.mobileNumber.errors?.required" class="error">Mobile Number is required</div>
        <div *ngIf="f.mobileNumber.errors?.pattern" class="error">Mobile Number must be 10 digits</div>
      </div>
    </div>

    <div>
      <label for="password">Password</label>
      <input type="password" id="password" formControlName="password" />
      <div *ngIf="f.password.touched || f.password.dirty">
        <div *ngIf="f.password.errors?.required" class="error">Password is required</div>
        <div *ngIf="f.password.errors?.pattern" class="error">Password should contain required pattern</div>
      </div>
    </div>

    <div>
      <label for="confirmPassword">Confirm Password</label>
      <input type="password" id="confirmPassword" formControlName="confirmPassword" />
      <div *ngIf="f.confirmPassword.touched || f.confirmPassword.dirty">
        <div *ngIf="f.confirmPassword.errors?.required" class="error">Confirm password is required</div>
        <div *ngIf="!pass" class="error">{{ errorMessage }}</div>
      </div>
    </div>

    <div>
      <label for="userRole">User Role</label>
      <select id="userRole" formControlName="userRole">
        <option value="Manager">Manager</option>
        <option value="Coordinator">Coordinator</option>
      </select>
    </div>


    <!-- Animated error popup -->
    <div *ngIf="errorMessage && pass" class="error-popup">
      {{ errorMessage }}
    </div>



    <div>
      <button type="submit" [disabled]="signUp.invalid">Sign Up</button>
    </div>

    <p>
      Already have an account?
      <a routerLink="/login">Login</a>
    </p>
  </form>
</div>




/* Page background */
.login-page {
  display: flex;
  align-items: flex-start;
  /* Align to top */
  justify-content: center;
  min-height: calc(100vh - 60px);
  /* Adjust height to leave space for navbar */
  padding-top: 20px;
  /* Small gap between navbar and card */
  position: relative;
  overflow: hidden;
}

/* Background image */
.login-page img {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: brightness(0.5) blur(3px);
  z-index: -1;
}

/* Form card - smaller and closer to top */

/* Form card */
form {
  background: #fff;
  padding: 1.5rem 2rem;
  /* Horizontal padding already exists */
  border-radius: 14px;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
  width: 100%;
  max-width: 450px;
  animation: fadeIn 0.6s ease;
  margin-top: 0;
}


/* Heading */
form h2 {
  text-align: center;
  margin-bottom: 1rem;
  /* Reduced gap below heading */
  margin-top: 0.5rem;
  /* Reduced gap above heading */
  font-size: 1.6rem;
  color: #1976d2;
  font-weight: 700;
}

/* Labels */
label {
  display: block;
  margin-bottom: 0.35rem;
  font-weight: 600;
  color: #333;
  font-size: 0.9rem;
}

/* Inputs and select */
input,
select {
  width: 100%;
  padding: 10px 8px;
  border: 1px solid #ccc;
  border-radius: 8px;
  font-size: 0.95rem;
  margin-bottom: 0.8rem;
  transition: border 0.3s;
}

input:focus,
select:focus {
  outline: none;
  border-color: #1976d2;
  box-shadow: 0 0 0 2px rgba(25, 118, 210, 0.2);
}

/* Error messages */
/* Animated error popup */
.error-popup {
  position: relative;
  background-color: #f44336;
  color: #fff;
  padding: 12px 16px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 0.9rem;
  margin: 12px 0;
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
  animation: slideDownFade 0.5s ease-out;
  z-index: 10;
  text-align: center;
}

.error {
  color: #f44336;

}

/* Animation for error popup */
@keyframes slideDownFade {
  0% {
    opacity: 0;
    transform: translateY(-15px);
  }

  100% {
    opacity: 1;
    transform: translateY(0);
  }
}



/* Submit button */
button {
  width: 100%;
  padding: 10px;
  background: #1976d2;
  color: #fff;
  font-weight: 600;
  border: none;
  border-radius: 8px;
  font-size: 1rem;
  cursor: pointer;
  transition: background 0.3s, transform 0.1s;
}

button:hover:not(:disabled) {
  background: #1565c0;
  transform: translateY(-2px);
}

button:disabled {
  background: #90caf9;
  cursor: not-allowed;
}

/* Login link */
p {
  margin-top: 1rem;
  text-align: center;
  font-size: 0.9rem;
  color: #555;
}

p a {
  color: #1976d2;
  font-weight: 600;
  text-decoration: none;
}

p a:hover {
  text-decoration: underline;
}

/* Fade-in animation */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Responsive */
@media (max-width: 480px) {
  form {
    margin: 1rem;
    padding: 1.5rem;
  }
}


-----------------------------------------------------------

TrainerDetailsComponent


import { Component, OnInit } from '@angular/core';
import { ActivatedRoute, Router } from '@angular/router';
import { Requirement } from 'src/app/models/requirement.model';
import { Trainer } from 'src/app/models/trainer.model';
import { RequirementService } from 'src/app/services/requirement.service';
import { TrainerService } from 'src/app/services/trainer.service';
import { apiUrl } from 'src/global';

@Component({
  selector: 'app-trainer-details',
  templateUrl: './trainer-details.component.html',
  styleUrls: ['./trainer-details.component.css']
})
export class TrainerDetailsComponent implements OnInit {


  // trainerId: number;
  // trainer: Trainer;
  // requirements: Requirement[] = [];
  // selectedRequirements: Requirement[] = [];

  // constructor(
  //   private route: ActivatedRoute,
  //   private trainerService: TrainerService,
  //   private requirementService: RequirementService,
  //   private router: Router
  // ) { }

  // ngOnInit(): void {
  //   this.trainerId = Number(this.route.snapshot.paramMap.get('id'));

  //   this.trainerService.getTrainerById(this.trainerId).subscribe((data) => {
  //     this.trainer = data;
  //   });

  //   this.requirementService.getRequirementsByTrainerId(this.trainerId).subscribe((reqs) => {
  //     this.requirements = reqs; // multiple requirements supported
  //   });
  // }

  // acceptRequirement(requirement: Requirement) {
  //   // Add to selected list only if not already present
  //   if (!this.selectedRequirements.some(r => r.requirementId === requirement.requirementId)) {
  //     this.selectedRequirements.push(requirement);
  //   }
  // }

  // rejectRequirement(requirement: Requirement) {
  //   // Simply skip it or remove if it was accidentally added
  //   this.selectedRequirements = this.selectedRequirements.filter(r => r.requirementId !== requirement.requirementId);
  // }

  // finishSelection() {
  //   // Navigate to SelectedComponent and pass selectedRequirements
  //   this.router.navigate(['/selected'], { state: { selected: this.selectedRequirements } });
  // }
  trainer: Trainer;
  requirement: Requirement;
  requirementId: number;
  showResumeModal: boolean;
  trainerId: number;
  selectedTrainers: Trainer[] = [];
  imageLoadError: boolean = false;
  accept: boolean = false;
  reject: boolean = false;
  resumeUrl: string = '';

  constructor(private trainerService: TrainerService, private router: Router, private route: ActivatedRoute, private requirementService: RequirementService) { }

  ngOnInit(): void {
    this.trainerId = +this.route.snapshot.params['trainerId'];
    this.requirementId = this.route.snapshot.params['reqId'];
    console.log(this.trainerId);
    console.log(this.requirementId);
    this.trainerService.getTrainerById(this.trainerId).subscribe((data) => {
      this.trainer = data;
    });

    this.requirementService.getRequirementById(this.requirementId).subscribe((data) => {
      this.requirement = data;
    })


  }

  acceptTrainer() {
    if (!this.trainer) return;
    // this.selectedTrainers.push(this.trainer);
    // this.requirement.status = "Closed";
    // console.log(this.requirement.status);
    // this.accept = true;
    this.requirementService.updateRequirementStatus(this.requirement.requirementId, "Closed").subscribe({
      next: (updated) => {
        this.requirement.status = updated.status;
        this.accept = true;
      }
    });
  }

  acceptModal() {
    this.router.navigate(['/managerviewrequirements']);
  }

  closeModal() {
    this.accept = false;
    this.reject = false;
  }

  rejectTrainer(): void {
    if (!this.trainer) return;

    this.requirementService.rejectTrainer(this.requirement.requirementId).subscribe({
      next: (updated) => {
        this.requirement.trainer = null; // Trainer removed
        this.reject = true; // Show modal if needed
      },
      error: (err) => {
        console.error("Error rejecting trainer:", err);
        alert("Failed to reject trainer");
      }
    });
  }



  viewResume(resumeFileName: string) {
    this.resumeUrl = `${apiUrl}/images/${resumeFileName}`;
    this.showResumeModal = true;
    this.imageLoadError = false;
  }


  closeResumeModal() {
    this.showResumeModal = false;
  }


}

<div class="trainer-details-container" *ngIf="trainer && requirement">
  <h2>Trainer Details</h2>

  <div class="details-box">
    <!-- Trainer Info -->
    <div class="trainer-info">
      <h3>{{ trainer.name }}</h3>
      <p><b>Email:</b> {{ trainer.email }}</p>
      <p><b>Phone:</b> {{ trainer.phone }}</p>
      <p><b>Expertise:</b> {{ trainer.expertise }}</p>
      <p><b>Experience:</b> {{ trainer.experience }}</p>
      <p><b>Certification:</b> {{ trainer.certification }}</p>
      <p><b>Status:</b> {{ trainer.status }}</p>
      <button class="btn btn-primary" (click)="viewResume(trainer.resume)">View Resume</button>
    </div>


    <div class="arrow-container">
      
    </div>


    <!-- Requirement Info -->
    <div class="requirement-info">
      <h3>Requirement Details</h3>
      <p><b>Title:</b> {{ requirement.title }}</p>
      <p><b>Description:</b> {{ requirement.description }}</p>
      <p><b>Department:</b> {{ requirement.department }}</p>
      <p><b>Duration:</b> {{ requirement.duration }}</p>
      <p><b>Mode:</b> {{ requirement.mode }}</p>
      <p><b>Location:</b> {{ requirement.location }}</p>
      <p><b>Skill Level:</b> {{ requirement.skillLevel }}</p>
      <p><b>Budget:</b> {{ requirement.budget }}</p>
      <p><b>Priority:</b> {{ requirement.priority }}</p>
      <p><b>Status:</b> {{ requirement.status }}</p>

      <div class="action-buttons" *ngIf="requirement.status.includes('Open') ">
        <button class="btn btn-success" (click)="acceptTrainer()">Accept Trainer</button>
        <button class="btn btn-danger" (click)="rejectTrainer()">Reject Trainer</button>
      </div>
    </div>
    <div *ngIf="accept" class="confirm-modal">
      <div class="confirm-modal-content">
        <p>Do you want to accept this trainer?</p>
        <button (click)="acceptModal()" class="ok-button">OK</button>
        <button (click)="closeModal()">Cancel</button>
      </div>
    </div>
    
    <div *ngIf="reject" class="confirm-modal">
      <div class="confirm-modal-content">
        <p>Do you want to reject this trainer?</p>
        <button (click)="acceptModal()" class="ok-button">OK</button>
        <button (click)="closeModal()">Cancel</button>
      </div>
    </div>
    <!-- Resume Preview Modal -->
    <div *ngIf="showResumeModal" class="modal">
      <div class="modal-content">
        <span class="close" (click)="closeResumeModal()">&times;</span>
        <h3>Resume Preview</h3>
        <img [src]="resumeUrl" alt="Resume Image" style="max-width: 100%; max-height: 500px;"
          (error)="imageLoadError = true" *ngIf="!imageLoadError" />
        <p *ngIf="imageLoadError">
          Unable to load resume image.
          <a [href]="resumeUrl" target="_self">Click here to view</a>.
        </p>
      </div>
    </div>

  </div>
</div>


.trainer-details-container {
  padding: 30px;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background-color: #f9f9f9;
}

/* Section Heading */
.trainer-details-container h2 {
  text-align: center;
  color: #333;
  margin-bottom: 20px;
  font-size: 24px;
}

/* Flex layout for cards */
.details-box {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 40px;
  flex-wrap: wrap;
}

/* Individual card styling */
.trainer-info,
.requirement-info {
  background-color: #fff;
  padding: 25px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  width: 100%;
  max-width: 400px;
}

/* Card headings */
.trainer-info h3 {
  margin-bottom: 15px;
  color: #1976d2;
  font-size: 20px;
}
.requirement-info h3{
  margin-bottom: 15px;
  color: rgb(215, 129, 228);
  font-size: 20px;
}

/* Card content */
.trainer-info p,
.requirement-info p {
  margin: 8px 0;
  font-size: 15px;
  color: #444;
}

b {
  color: #333;
}

/* Buttons */
button {
  padding: 8px 14px;
  margin-top: 10px;
  border: none;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: background 0.3s ease;
}

.btn-primary {
  background-color: #007bff;
  color: white;
}

.btn-primary:hover {
  background-color: #0056b3;
}

.btn-success {
  background-color: #28a745;
  color: white;
}

.btn-success:hover {
  background-color: #218838;
}

.btn-danger {
  background-color: #dc3545;
  color: white;
}

.btn-danger:hover {
  background-color: #c82333;
}

/* Modal Overlay */
.confirm-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5); /* semi-transparent background */
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

/* Modal Box */
.confirm-modal-content {
  background-color: #fff;
  padding: 25px 30px;
  border-radius: 10px;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
  text-align: center;
  max-width: 400px;
  width: 90%;
  animation: fadeIn 0.3s ease-in-out;
}

/* Modal Text */
.confirm-modal-content p {
  font-size: 16px;
  font-weight: 500;
  margin-bottom: 20px;
  color: #333;
}

/* Buttons */
.confirm-modal-content button {
  padding: 8px 14px;
  margin: 0 10px;
  border: none;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: background 0.3s ease;
}


.ok-button {
  background-color: #28a745;
  color: white;
}

.confirm-modal-content button:last-child {
  background-color: #dc3545;
  color: white;
}

.confirm-modal-content button:hover {
  opacity: 0.9;
}

/* Fade-in Animation */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}


/* Arrow container */
.arrow-container {
  font-size: 32px;
  color: #1976d2;
  text-align: center;
  line-height: 1;
}


/* Confirmation Modals */
.details-box > div p {
  margin-top: 20px;
  font-weight: 500;
  color: #333;
}

.details-box > div button {
  margin-right: 10px;
}

/* Responsive */
@media (max-width: 768px) {
  .details-box {
    flex-direction: column;
    gap: 20px;
  }

  .details-box::before {
    content: '';
  }
}
/* Modal Overlay */
.modal {
  display: block;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0, 0, 0, 0.6);
}

/* Modal Content Box */
.modal-content {
  background-color: #fff;
  margin: 5% auto;
  padding: 20px 30px;
  border-radius: 10px;
  width: 90%;
  max-width: 700px;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
  animation: fadeIn 0.3s ease-in-out;
  text-align: center;
}

/* Close Button */
.close {
  float: right;
  font-size: 28px;
  font-weight: bold;
  color: #333;
  cursor: pointer;
}

.close:hover {
  color: #ff0000;
}

/* Resume Image */
.modal-content img {
  display: block;
  margin: 20px auto;
  max-width: 100%;
  max-height: 500px;
  border: 1px solid #ccc;
  border-radius: 6px;
}

/* Error Message */
.modal-content p {
  color: #d32f2f;
 -size: 0.95rem;
  margin-top: 10px;
}

/* Fade-in Animation */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

-------------------------------------------------------------
TrainerManagementComponent

import { Component, OnInit } from '@angular/core';
import { FormBuilder, FormGroup, Validators } from '@angular/forms';
import { ActivatedRoute, Router } from '@angular/router';
import { Trainer } from 'src/app/models/trainer.model';
import { TrainerService } from 'src/app/services/trainer.service';
 
@Component({
  selector: 'app-trainer-management',
  templateUrl: './trainer-management.component.html',
  styleUrls: ['./trainer-management.component.css']
})
export class TrainerManagementComponent implements OnInit {
 
  trainerForm: FormGroup;
  trainerId: number;
  trainer: Trainer;
  errorMessage: string = '';
  added: boolean = false;
  updated: boolean = false;
  resumeFile: File | null = null;
 
 
  constructor(private fb: FormBuilder, private trainerService: TrainerService, private route: ActivatedRoute, private router: Router) { }
 
 
  ngOnInit(): void {
    this.trainerForm = this.fb.group({
      name: ['', [Validators.required]],
      email: ['', [Validators.required, Validators.email]],
      phone: ['', [Validators.required, Validators.pattern(/^\d{10}$/)]],
      expertise: ['', [Validators.required]],
      experience: ['', [Validators.required]],
      certification: ['', [Validators.required]],
      joiningDate: ['', [Validators.required]],
      resume: [''],
      status: ['Active']
    })
 
 
    this.trainerId = +this.route.snapshot.params['id'];
    console.log(this.trainerId);
 
    if (this.trainerId > 0) {
      this.trainerService.getTrainerById(this.trainerId).subscribe((data) => {
        this.trainerForm = this.fb.group({
          name: [data.name, [Validators.required]],
          email: [data.email, [Validators.required, Validators.email]],
          phone: [data.phone, [Validators.required, Validators.pattern(/^\d{10}$/)]],
          expertise: [data.expertise, [Validators.required]],
          experience: [data.experience, [Validators.required]],
          certification: [data.certification, [Validators.required]],
          joiningDate: [data.joiningDate, [Validators.required]],
          resume: [''],
          status: ['Active']
        })
 
      })
    }
 
  }
 
 
  onFileChange(event: any) {
    const file = event.target.files[0];
    if (file) {
      this.resumeFile = file;
    }
  }
 
 
  addTrainer() {
    if (this.trainerForm.valid) {
      const trainerData = this.trainerForm.value;
      if (this.trainerId > 0) {
        this.trainerService.updateTrainer(this.trainerId, trainerData, this.resumeFile).subscribe((data) => {
          this.added = true;
          console.log(`Updated Data: ${data}`);
 
        })
      }
      else {
        this.trainerService.addTrainer(trainerData, this.resumeFile).subscribe(
          (data) => {
            this.added = true;
            console.log(data);
          },
          (error) => {
            this.errorMessage = 'Duplicate Trainer cannot be added.';
          }
        );
      }
 
    }
  }
 
  closeModal() {
    this.trainerForm.reset();
    this.ngOnInit();
    this.added = false;
  }
 
  closeModalU() {
    this.router.navigate(['/viewTrainers']);
  }
 
  handleOkClick() {
    if(this.trainerId >  0) {
      this.closeModalU();
    }
    else{
      this.closeModal();
    }
  }
 
  get f() {
    return this.trainerForm.controls;
  }
 
 
}
 


<h2>{{trainerId > 0 ? 'Edit Trainer' :  'Add New Trainer'}}</h2>

<form [formGroup]="trainerForm" (ngSubmit)="addTrainer()">
    <div>
        <label for="name">Name<span class="required-asterisk">*</span> :</label> <br>
        <input type="text" name="name" id="name" formControlName="name">
        <div *ngIf="f.name.invalid && (f.name.touched ||f.name.dirty)">
            <div *ngIf="f.name.errors?.required" class="error-message">Name is required.</div>
        </div>
    </div>
    <div>
        <label for="email">Email<span class="required-asterisk">*</span> :</label> <br>
        <input type="email" name="email" id="email" formControlName="email">
        <div *ngIf="f.email.invalid && (f.email.touched ||f.email.dirty)">
            <div *ngIf="f.email.errors?.required" class="error-message">Email is required.</div>
            <div *ngIf="f.email.errors?.email"  class="error-message">Invalid email format</div>
        </div>
    </div>
    <div>
        <label for="phone">Phone<span class="required-asterisk">*</span> :</label> <br>
        <input type="text" name="phone" id="phone" formControlName="phone">
        <div *ngIf="f.phone.invalid && (f.phone.touched ||f.phone.dirty)">
            <div *ngIf="f.phone.errors?.required"  class="error-message">Phone number is required.</div>
            <div *ngIf="f.phone.errors?.pattern"  class="error-message">Exact 10 digits allowed</div>
        </div>
    </div>
    <div>
        <label for="expertise">Expertise<span class="required-asterisk">*</span> :</label> <br>
        <input type="text" name="expertise" id="expertise" formControlName="expertise">
        <div *ngIf="f.expertise.invalid && (f.expertise.touched ||f.expertise.dirty)">
            <div *ngIf="f.expertise.errors?.required"  class="error-message">Expertise is required.</div>
        </div>
    </div>
    <div>
        <label for="experience">Experience<span class="required-asterisk">*</span> :</label> <br>
        <input type="text" name="experience" id="experience" formControlName="experience">
        <div *ngIf="f.experience.invalid && (f.experience.touched ||f.experience.dirty)">
            <div *ngIf="f.experience.errors?.required"  class="error-message">Experience is required.</div>
        </div>
    </div>
    <div>
        <label for="certification">Certificate<span class="required-asterisk">*</span> :</label> <br>
        <input type="text" name="certification" id="certification" formControlName="certification">
        <div *ngIf="f.certification.invalid && (f.certification.touched ||f.certification.dirty)">
            <div *ngIf="f.certification.errors?.required"  class="error-message">Certificate is required.</div>
        </div>
    </div>
    <div>
        <label for="resume">Resume<span class="required-asterisk">*</span> :</label> <br>
        <input type="file" name="resume" id="resume" formControlName="resume" (change)="onFileChange($event)">
    </div>
    <div>
        <label for="joiningDate">Joining Date<span class="required-asterisk">*</span> :</label> <br>
        <input type="date" name="joiningDate" id="joiningDate" formControlName="joiningDate">
        <div *ngIf="f.joiningDate.invalid && (f.joiningDate.touched ||f.joiningDate.dirty)">
            <div *ngIf="f.joiningDate.errors?.required"  class="error-message">Joining Date is required.</div>
        </div>
    </div>
    <button type="submit"><span>{{trainerId > 0 ? 'Update' : 'Add'}}</span> Trainer</button>
    <div *ngIf="errorMessage">{{errorMessage}}</div>
</form>

<div *ngIf="added" class="popup-backdrop">
    <div class="success-popup">
      <p>Trainer <span>{{trainerId > 0 ? 'Updated' : 'Added'}}</span> Successfully!</p>
      <button (click)="closeModal()">OK</button>
    </div>
</div>
 


/* General Page Styling */
body {
    font-family: 'Segoe UI', sans-serif;
    background-color: #f0f2f5;
    margin: 0;
    padding: 0;
  }
 
 
  form {
    max-width: 500px;
    margin: 40px auto;
    padding: 25px;
    background-color: #ffffff;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  }
 
 
  /* Form Title */
  h2 {
    text-align: center;
    color: #007bff;
    margin-bottom: 25px;
  }
 
  /* Labels and Inputs */
  label {
    display: block;
    margin-bottom: 6px;
    font-weight: 800;
    color: #333;
  }
 
 
/* Red Asterisk for Required Fields */
 
.required-asterisk {
    color: #b30000;
    font-weight: bold;
  }
 
 
 
  input[type="text"],
  input[type="email"],
  input[type="date"],
  input[type="file"],
  select {
    width: 100%;
    padding: 10px;
    margin-bottom: 16px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 14px;
    background-color: #fff;
  }
 
 
input[type="file"]::file-selector-button {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px 18px;
    border-radius: 4px;
    font-weight: 600;
    cursor: pointer;
  }
 
 
  input:focus,
  select:focus {
    border-color: #007bff;
    outline: none;
  }
 
  /* Submit Button */
  button[type="submit"] {
    background-color: #007bff;
    color: white;
    padding: 10px 18px;
    border: none;
    border-radius: 4px;
    font-weight: 600;
    cursor: pointer;
    display: block;
    margin: 20px auto 0;
  }
 
  button[type="submit"]:hover {
    background-color: #8ab6e5;
  }
 
  /* Validation Messages */
  .error-message {
    color: #d9534f;
    font-size: 14px;
    font-weight: 600;
    margin-top: -10px;
    margin-bottom: 10px;
  }
 
  .popup-backdrop {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    backdrop-filter: blur(4px);
    background-color: rgba(0, 0, 0, 0.2);
    z-index: 999;
    display: flex;
    justify-content: center;
    align-items: center;
  }
 
  /* Popup Styling */
  .success-popup {
    background-color: #ffffff;
    padding: 30px;
    border-radius: 8px;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
    text-align: center;
    z-index: 1000;
  }
 
  .success-popup p {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 20px;
    color: #333;
  }
 
  .success-popup button {
    background-color: #007bff;
    color: white;
    padding: 10px 18px;
    border: none;
    border-radius: 4px;
    font-weight: 600;
    cursor: pointer;
  }
 
  .success-popup button:hover {
    background-color: #0056b3;
  }
 
 

--------------------------------------------------

export interface Feedback{
    feedbackId?:number;
    userId:number;
    trainerId:number;
    category:string;
    feedbackText:string;
    date:Date
}


export interface Login{
    email:string;
    password:string;
}


import { Trainer } from "./trainer.model";

export interface Requirement{
    requirementId?:number;
    title:string;
    description:string;
    department:string;
    postedDate:Date;
    status:string;
    duration:string;
    mode:string;
    location:string;
    skillLevel:string;
    budget:number;
    priority:string;
    trainerId?:number;
    trainer? : Trainer
}



export interface Trainer{
    trainerId?:number;
    name:string;
    email:string;
    phone:string;
    expertise:string;
    experience:string;
    certification:string;
    resume:string;
    joiningDate:Date;
    status:string;
}


export interface User{
    userId?:number;
    email:string;
    password:string;
    username:string;
    mobileNumber:string;
    userRole:string;

}

--------------------------------------------------

import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { Observable, BehaviorSubject } from 'rxjs';
import { map } from 'rxjs/operators';
import { apiUrl } from 'src/global';
import { User } from '../models/user.model';

@Injectable({
  providedIn: 'root'
})
export class AuthService {
  private isLoggedInSubject = new BehaviorSubject<boolean>(this.hasToken());
  public isLoggedIn$ = this.isLoggedInSubject.asObservable();

  constructor(private http: HttpClient) {}

 
  addUser(user: User): Observable<any> {
    return this.http.post(`${apiUrl}/api/register`, user, {
      headers: { 'Content-Type': 'application/json' }
    });
  }

  login(email: string, password: string): Observable<any> {
    return this.http.post<{ token: string }>(`${apiUrl}/api/login`, { email, password }).pipe(
      map(response => {
        const token = response.token;
        localStorage.setItem('token', `Bearer ${token}`);
        this.isLoggedInSubject.next(true);
        const decoded = this.decodeToken(token);
        return {
          token,
          role: decoded.role,
          email: decoded.sub,
          userId: decoded.userId
        };
      })
    );
  }

  
  private decodeToken(token: string): any {
    try {
      const payload = token.split('.')[1];
      const decodedPayload = atob(payload);
      return JSON.parse(decodedPayload);
    } catch (error) {
      console.error('Error decoding token:', error);
      return {};
    }
  }


  getToken(): string | null {
    return localStorage.getItem('token');
  }


  getAuthenticatedUser(): string | null {
    const token = this.getToken();
    if (!token) return null;
    const decoded = this.decodeToken(token.split(' ')[1]);
    return decoded.sub || null;
  }

 
  getRole(): string | null {
    const token = this.getToken();
    if (!token) return null;
    const decoded = this.decodeToken(token.split(' ')[1]);
    return decoded.role || null;
  }


  getUserId(): number | null {
    const token = this.getToken();
    if (!token) return null;
    const decoded = this.decodeToken(token.split(' ')[1]);
    return decoded.userId || null;
  }


  isAdmin(): boolean {
    return this.getRole() === 'Manager';
  }

  isCustomer(): boolean {
    return this.getRole() === 'Coordinator';
  }

  isUserLoggedIn(): boolean {
    return !!this.getToken();
  }

 
  logout(): void {
    localStorage.removeItem('token');
    this.isLoggedInSubject.next(false);
  }


  private hasToken(): boolean {
    return !!localStorage.getItem('token');
  }

  sendOtp(email : string) : Observable<User>{
    return this.http.post<User>(`${apiUrl}/api/otp/send`,email);
  }


}


-----------------------------------------------

import { HttpClient } from '@angular/common/http';
import { Injectable } from '@angular/core';
import { Feedback } from '../models/feedback.model';
import { Observable } from 'rxjs';
import { apiUrl } from 'src/global';
import { User } from '../models/user.model';

@Injectable({
  providedIn: 'root'
})
export class FeedbackService {

  constructor(private httpClient:HttpClient) { }
  sendFeedback(userId:number,trainerId:number,feedback:Feedback):Observable<Feedback>{
    return this.httpClient.post<Feedback>(`${apiUrl}/api/feedback/${userId}/${trainerId}`,feedback);
  }
  getAllFeedbacksByUserId(userId:number):Observable<Feedback[]>{
    return this.httpClient.get<Feedback[]>(`${apiUrl}/api/feedback/user/${userId}`);
  }
  deleteFeedback(feedbackId:number):Observable<void>{
    return this.httpClient.delete<void>(`${apiUrl}/api/feedback/${feedbackId}`);
  }
  getFeedbacks():Observable<Feedback[]>{
    return this.httpClient.get<Feedback[]>(`${apiUrl}/api/feedback`);
  }
  getUserById(id:number):Observable<User>{
    return this.httpClient.get<User>(`${apiUrl}/api/${id}`);
  }
}

-----------------------------------------------------------------
import { Injectable } from '@angular/core';
import { AuthService } from './auth.service';
import { HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';

@Injectable({
  providedIn: 'root'
})
export class HttpInterceptorBasicAuthService implements HttpInterceptor{

  constructor(private authService : AuthService) { }
 
  intercept(request: HttpRequest<any>, next: HttpHandler) {
 
    let basicAuthHeaderString = this.authService.getToken();
        let username = this.authService.getAuthenticatedUser();
        if (basicAuthHeaderString && username) {
            request = request.clone({
                setHeaders: {
                    Authorization: basicAuthHeaderString
                }
            })
        }
        return next.handle(request);
    }
}

-------------------------------------------
import { Injectable } from '@angular/core';
 
import { HttpClient } from "@angular/common/http";
import { Observable } from "rxjs";
 
@Injectable({
  providedIn: 'root'
})
export class OtpService {
  private baseUrl = 'http://localhost:8080/api/otp';
 
  constructor(private http: HttpClient) {}
 
  sendOtp(email: string): Observable<any> {
    return this.http.post(`${this.baseUrl}/send`, { email });
  }
 
  verifyOtp(email: string, otp: string): Observable<any> {
    return this.http.post(`${this.baseUrl}/verify`, { email, otp });
  }
}
 
-------------------------------------------------
import { HttpClient } from '@angular/common/http';
import { Injectable } from '@angular/core';
import { Observable } from 'rxjs';

import { Requirement } from '../models/requirement.model';
import { apiUrl } from 'src/global';

@Injectable({
  providedIn: 'root'
})
export class RequirementService {

  constructor(private httpClient: HttpClient) { }
  getAllRequirements(): Observable<Requirement[]> {
    return this.httpClient.get<Requirement[]>(`${apiUrl}/api/requirement`);

  }
  getRequirementById(requirementId: number): Observable<Requirement> {
    return this.httpClient.get<Requirement>(`${apiUrl}/api/requirement/${requirementId}`);
  }
  addRequirement(requirement: Requirement): Observable<Requirement> {
    return this.httpClient.post<Requirement>(`${apiUrl}/api/requirement`, requirement);
  }
  updateRequirement(requirementId: number, requirement: Requirement): Observable<Requirement> {
    return this.httpClient.put<Requirement>(`${apiUrl}/api/requirement/${requirementId}`, requirement);
  }
  getRequirementsByTrainerId(trainerId: number): Observable<Requirement[]> {
    return this.httpClient.get<Requirement[]>(`${apiUrl}/api/requirement/trainer/${trainerId}`);
  }
  deleteRequirement(requirementId: number): Observable<void> {
    return this.httpClient.delete<void>(`${apiUrl}/api/requirement/${requirementId}`);
  }

  assignTrainer(requirementId: number, trainerId: number): Observable<any> {
    return this.httpClient.put(`${apiUrl}/api/requirement/${requirementId}/trainer/${trainerId}`, {});
  }
  updateRequirementStatus(requirementId:number,status:string):Observable<Requirement>{
    return this.httpClient.put<Requirement>(`${apiUrl}/api/requirement/${requirementId}/status?status=${status}`,{});
  }
  rejectTrainer(requirementId: number) {
    return this.httpClient.put<Requirement>(`${apiUrl}/api/requirement/${requirementId}/reject-trainer`, {});
  }
  

}

---------------------------------------------------------------
import { HttpClient } from '@angular/common/http';
import { Injectable } from '@angular/core';
import { Observable } from 'rxjs';
import { apiUrl } from 'src/global';
import { Trainer } from '../models/trainer.model';

@Injectable({
  providedIn: 'root'
})
export class TrainerService {

  constructor(private httpClient:HttpClient) { }
  getAllTrainers():Observable<Trainer[]>{
    return this.httpClient.get<Trainer[]>(`${apiUrl}/api/trainer`);
  }
  getTrainerById(trainerId:number):Observable<Trainer>{
    return this.httpClient.get<Trainer>(`${apiUrl}/api/trainer/${trainerId}`);
  }
  // addTrainer(trainer:Trainer):Observable<Trainer>{
  //   return this.httpClient.post<Trainer>(`${apiUrl}/api/trainer`,trainer);
  // }
  addTrainer(trainer: Trainer, resumeFile: File): Observable<Trainer> {
    const formData = new FormData();
    formData.append('data', JSON.stringify(trainer));
    formData.append('file', resumeFile);
  
    return this.httpClient.post<Trainer>(`${apiUrl}/api/trainer/fileUpload`, formData);
  }
  

  // updateTrainer(trainerId:number,trainer:Trainer):Observable<Trainer>{
  //   return this.httpClient.put<Trainer>(`${apiUrl}/api/trainer/${trainerId}`,trainer);
  // }
  updateTrainer(trainerId: number, trainer: Trainer, resumeFile?: File): Observable<Trainer> {
    const formData = new FormData();
    formData.append('data', JSON.stringify(trainer));
  
    if (resumeFile) {
      formData.append('file', resumeFile);
    }
  
    return this.httpClient.put<Trainer>(`${apiUrl}/api/trainer/fileUpload/${trainerId}`, formData);
  }

  deleteTrainer(trainerId:number):Observable<void>{
    return this.httpClient.delete<void>(`${apiUrl}/api/trainer/${trainerId}`);
  }
  updateTrainerStatus(trainerId: number): Observable<Trainer> {
    return this.httpClient.put<Trainer>(`${apiUrl}/api/trainer/${trainerId}`, {});
  }
}

------------------------------------------------
import { NgModule } from '@angular/core';
import { Routes, RouterModule } from '@angular/router';
import { SignupComponent } from './components/signup/signup.component';
import { LoginComponent } from './components/login/login.component';
import { HomePageComponent } from './components/home-page/home-page.component';
import { TrainerManagementComponent } from './components/trainer-management/trainer-management.component';
import { CoordinatorViewTrainersComponent } from './components/coordinator-view-trainers/coordinator-view-trainers.component';
import { CoordinatorViewRequirementsComponent } from './components/coordinator-view-requirements/coordinator-view-requirements.component';
import { CoordinatornavComponent } from './components/coordinatornav/coordinatornav.component';
import { ManagernavComponent } from './components/managernav/managernav.component';
import { ManagerRequirementComponent } from './components/manager-requirement/manager-requirement.component';
import { ManagerViewRequirementsComponent } from './components/manager-view-requirements/manager-view-requirements.component';
import { ManagerpostfeedbackComponent } from './components/managerpostfeedback/managerpostfeedback.component';
import { ManagerviewfeedbackComponent } from './components/managerviewfeedback/managerviewfeedback.component';
import { CoordinatorviewfeedbackComponent } from './components/coordinatorviewfeedback/coordinatorviewfeedback.component';
import { TrainerDetailsComponent } from './components/trainer-details/trainer-details.component';
import { SelectedTrainersComponent } from './components/selected-trainers/selected-trainers.component';
import { AuthGuard } from './components/authguard/auth.guard';
import { DashboardComponent } from './components/dashboard/dashboard.component';

const routes: Routes = [
  { path: '', component: LoginComponent },
  {path:'dashboard',component:DashboardComponent},
  { path: 'login', component: LoginComponent },
  { path: 'signup', component: SignupComponent },
  { path: 'home', component: HomePageComponent },
  { path: 'trainers', component: TrainerManagementComponent,canActivate:[AuthGuard],data:{role:"Coordinator"}},
  { path: 'trainers/view', component: CoordinatorViewTrainersComponent },
  { path: 'requirements', component: CoordinatorViewRequirementsComponent },
  { path: 'coordinator-nav', component: CoordinatornavComponent,canActivate:[AuthGuard],data:{role:"Coordinator"} },
  { path: 'manager-nav', component: ManagernavComponent,canActivate:[AuthGuard],data:{role:"Manager"} },
  { path: 'managerrequirement', component: ManagerRequirementComponent,canActivate:[AuthGuard],data:{role:"Manager"} },
  { path: 'managerviewrequirements', component: ManagerViewRequirementsComponent,canActivate:[AuthGuard],data:{role:"Manager"} },
  { path: 'feedback', component: ManagerpostfeedbackComponent },
  { path: 'managerrequirement/:id', component: ManagerRequirementComponent },
  { path: "editTrainer/:id", component: TrainerManagementComponent },
  { path: 'feedback/:id', component: ManagerpostfeedbackComponent },
  { path: 'viewFeedback', component: ManagerviewfeedbackComponent },
  { path: 'feedbacks', component: CoordinatorviewfeedbackComponent },
  { path: 'trainerdetails/:trainerId/:reqId', component: TrainerDetailsComponent },
  { path: 'select-trainers/:id', component: SelectedTrainersComponent },
  { path: 'select-trainers', component: SelectedTrainersComponent }

];

@NgModule({
  imports: [RouterModule.forRoot(routes)],
  exports: [RouterModule]
})
export class AppRoutingModule { }

-----------------------------------------------------

<app-managernav *ngIf="role=='Manager'"></app-managernav>
<app-coordinatornav *ngIf="role=='Coordinator'"></app-coordinatornav>
<router-outlet></router-outlet>
------------------------------------------------------
import { Component } from '@angular/core';
import { AuthService } from './services/auth.service';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent {
  title = 'angularapp';
  role:string='';
  constructor(private as:AuthService){
    this.role=as.getRole();
  }

}

-------------------------------------------------
import { BrowserModule } from '@angular/platform-browser';
import { NgModule } from '@angular/core';

import { AppRoutingModule } from './app-routing.module';
import { AppComponent } from './app.component';
import { LoginComponent } from './components/login/login.component';
import { FormsModule, ReactiveFormsModule } from '@angular/forms';
import { HTTP_INTERCEPTORS, HttpClientModule } from '@angular/common/http';

import { CoordinatorViewRequirementsComponent } from './components/coordinator-view-requirements/coordinator-view-requirements.component';
import { CoordinatorViewTrainersComponent } from './components/coordinator-view-trainers/coordinator-view-trainers.component';
import { CoordinatornavComponent } from './components/coordinatornav/coordinatornav.component';
import { CoordinatorviewfeedbackComponent } from './components/coordinatorviewfeedback/coordinatorviewfeedback.component';
import { ErrorComponent } from './components/error/error.component';
import { HomePageComponent } from './components/home-page/home-page.component';
import { ManagerRequirementComponent } from './components/manager-requirement/manager-requirement.component';
import { ManagerViewRequirementsComponent } from './components/manager-view-requirements/manager-view-requirements.component';
import { ManagernavComponent } from './components/managernav/managernav.component';
import { ManagerpostfeedbackComponent } from './components/managerpostfeedback/managerpostfeedback.component';
import { ManagerviewfeedbackComponent } from './components/managerviewfeedback/managerviewfeedback.component';
import { SelectedTrainersComponent } from './components/selected-trainers/selected-trainers.component';
import { SignupComponent } from './components/signup/signup.component';
import { TrainerDetailsComponent } from './components/trainer-details/trainer-details.component';
import { TrainerManagementComponent } from './components/trainer-management/trainer-management.component';
import { HttpInterceptorBasicAuthService } from './services/http-interceptor-basic-auth.service';
import { DashboardComponent } from './components/dashboard/dashboard.component';


@NgModule({
  declarations: [
    AppComponent,
    LoginComponent,
    CoordinatorViewRequirementsComponent,
    CoordinatorViewTrainersComponent,
    CoordinatornavComponent,
    CoordinatorviewfeedbackComponent,
    ErrorComponent,
    HomePageComponent,
    ManagerRequirementComponent,
    ManagerViewRequirementsComponent,
    ManagernavComponent,
    ManagerpostfeedbackComponent,
    ManagerviewfeedbackComponent,
    SelectedTrainersComponent,
    SignupComponent,
    TrainerDetailsComponent,
    TrainerManagementComponent,
    DashboardComponent,
  
  ],
  imports: [
    BrowserModule,
    AppRoutingModule,
    FormsModule,
    ReactiveFormsModule,
    HttpClientModule
  ],
  providers: [ {
    provide:HTTP_INTERCEPTORS,
    useClass:HttpInterceptorBasicAuthService,
    multi:true
  }],
  bootstrap: [AppComponent]
})
export class AppModule { }

------------------------------------------------



spring.profiles.active =local

-----------------------------------------------
application-local.properties

spring.jpa.hibernate.ddl-auto=update
spring.datasource.url=jdbc:mysql://localhost/appdb?createDatabaseIfNotExist=true
spring.datasource.username=root
spring.datasource.password=examly
spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver
spring.jpa.show-sql= true
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect
enable.swagger.plugin=true
spring.mvc.pathmatch.matching-strategy=ant-path-matcher
server.port:8080


spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=anujkumarpandey2727@gmail.com
spring.mail.password=jalg xrhc jbai yoey
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

jwt.secret = 357638792F423F4428472B4B6250655368566D597133743677397A2443264629



