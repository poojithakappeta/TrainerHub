<h2>Trainers </h2>
<hr>
Search By: <input type="text" [(ngModel)]="searchText" placeholder="Trainer Name..." (input)="searchByTrainer()">
 
Filter By: <select name="status" id="status" #abc (change)="filterByStatus(abc.value)">
    <option value="All Status">All Status</option>
    <option value="Active">Active</option>
    <option value="Inactive">Inactive</option>
</select>
<table border="2">
    <thead>
        <tr>
            <th>S.NO</th>
            <th>NAME</th>
            <th>EMAIL</th>
            <th>PHONE</th>
            <th>EXPERTISE</th>
            <th>STATUS</th>
            <th>ACTION</th>
        </tr>
    </thead>
    <tbody *ngIf="trainers.length == 0">
        <p>Oops! No record found</p>
    </tbody>
    <tbody>
        <tr *ngFor="let trainer of trainers ; index as i">
            <td>{{i+1}}</td>
            <td>{{trainer.name | titlecase}}</td>
            <td>{{trainer.email}}</td>
            <td>{{trainer.phone}}</td>
            <td>{{trainer.expertise | titlecase}}</td>
            <td [ngStyle]="{'color' : trainer.status == 'Active' ? 'green' : 'red'}">{{trainer.status}}</td>
            <td><button (click)="editTrainer(trainer.trainerId)" class="edit-btn">Edit</button>
                <button (click)="deleteTrainer(trainer.trainerId)" class="delete-btn">Delete</button>
                <button (click)="changeStatus(trainer)"  [ngClass]="trainer.status === 'Active' ? 'active-btn' : 'inactive-btn'">
                Make <span>{{ trainer.status === 'Active' ? 'Inactive' : 'Active' }}</span>
              </button>
                <button (click)="viewResume(trainer.resume)" class="view-btn">View Resume</button>
            </td>
        </tr>
    </tbody>
</table>
 
<!-- Delete Confirmation Modal -->
<div *ngIf="delete" class="modal">
    <div class="modal-content">
      <span class="close" (click)="cancelDelete()" (keydown)="cancelDelete()">&times;</span>
      <h3>Confirm Delete</h3>
      <p>Are you sure you want to delete this trainer?</p>
      <button (click)="confirmDelete()" class="active-btn">Yes, Delete</button>
      <button (click)="cancelDelete()" class="inactive-btn">Cancel</button>
    </div>
  </div>
 
  <!-- Resume Preview Modal -->
  <div *ngIf="showResumeModal" class="modal">
    <div class="modal-content">
      <span class="close" (click)="closeResumeModal()" (keydown)="closeResumeModal()">&times;</span>
      <h3>Resume Preview</h3>
      <img [src]="resumeUrl" alt="Resume" style="max-width: 100%; max-height: 500px;"
           (error)="imageLoadError = true" *ngIf="!imageLoadError" />
      <p *ngIf="imageLoadError">
        Unable to load resume image.
        <a [href]="resumeUrl" target="_self">Click here to view</a>.
      </p>
    </div>
  </div>